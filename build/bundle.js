var wecount=function(){"use strict";function e(){}function t(e,t){for(const r in t)e[r]=t[r];return e}function r(e){return e()}function n(){return Object.create(null)}function i(e){e.forEach(r)}function s(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,...r){if(null==t)return e;const n=t.subscribe(...r);return n.unsubscribe?()=>n.unsubscribe():n}function l(e,t,r){e.$$.on_destroy.push(a(t,r))}function c(e,t,r,n){if(e){const i=u(e,t,r,n);return e[0](i)}}function u(e,r,n,i){return e[1]&&i?t(n.ctx.slice(),e[1](i(r))):n.ctx}function h(e,t,r,n){if(e[2]&&n){const i=e[2](n(r));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],r=Math.max(t.dirty.length,i.length);for(let n=0;n<r;n+=1)e[n]=t.dirty[n]|i[n];return e}return t.dirty|i}return t.dirty}function d(e,t,r,n,i,s){if(i){const o=u(t,r,n,s);e.p(o,i)}}function p(e){if(e.ctx.length>32){const t=[],r=e.ctx.length/32;for(let e=0;e<r;e++)t[e]=-1;return t}return-1}function f(e){const t={};for(const r in e)"$"!==r[0]&&(t[r]=e[r]);return t}function m(e){return null==e?"":e}function g(e,t){e.appendChild(t)}function y(e,t,r){e.insertBefore(t,r||null)}function v(e){e.parentNode.removeChild(e)}function b(e){return document.createElement(e)}function _(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function w(e){return document.createTextNode(e)}function E(){return w(" ")}function $(){return w("")}function T(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function S(e){return function(t){return t.preventDefault(),e.call(this,t)}}function x(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function O(e,t){for(const r in t)x(e,r,t[r])}function P(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function A(e,t){e.value=null==t?"":t}function k(e,t,r,n){e.style.setProperty(t,r,n?"important":"")}function I(e,t,r){e.classList[r?"add":"remove"](t)}let R;function C(e){R=e}function U(){if(!R)throw new Error("Function called outside component initialization");return R}function j(e){U().$$.on_mount.push(e)}function L(){const e=U();return(t,r)=>{const n=e.$$.callbacks[t];if(n){const i=function(e,t,r=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,r,!1,t),n}(t,r);n.slice().forEach((t=>{t.call(e,i)}))}}}function N(e,t){const r=e.$$.callbacks[t.type];r&&r.slice().forEach((e=>e.call(this,t)))}const D=[],M=[],G=[],F=[],B=Promise.resolve();let z=!1;function H(){z||(z=!0,B.then(J))}function V(){return H(),B}function X(e){G.push(e)}let q=!1;const W=new Set;function J(){if(!q){q=!0;do{for(let e=0;e<D.length;e+=1){const t=D[e];C(t),K(t.$$)}for(C(null),D.length=0;M.length;)M.pop()();for(let e=0;e<G.length;e+=1){const t=G[e];W.has(t)||(W.add(t),t())}G.length=0}while(D.length);for(;F.length;)F.pop()();z=!1,q=!1,W.clear()}}function K(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(X)}}const Y=new Set;let Z;function Q(){Z={r:0,c:[],p:Z}}function ee(){Z.r||i(Z.c),Z=Z.p}function te(e,t){e&&e.i&&(Y.delete(e),e.i(t))}function re(e,t,r,n){if(e&&e.o){if(Y.has(e))return;Y.add(e),Z.c.push((()=>{Y.delete(e),n&&(r&&e.d(1),n())})),e.o(t)}}function ne(e,t){const r={},n={},i={$$scope:1};let s=e.length;for(;s--;){const o=e[s],a=t[s];if(a){for(const e in o)e in a||(n[e]=1);for(const e in a)i[e]||(r[e]=a[e],i[e]=1);e[s]=a}else for(const e in o)i[e]=1}for(const e in n)e in r||(r[e]=void 0);return r}function ie(e){return"object"==typeof e&&null!==e?e:{}}function se(e){e&&e.c()}function oe(e,t,n,o){const{fragment:a,on_mount:l,on_destroy:c,after_update:u}=e.$$;a&&a.m(t,n),o||X((()=>{const t=l.map(r).filter(s);c?c.push(...t):i(t),e.$$.on_mount=[]})),u.forEach(X)}function ae(e,t){const r=e.$$;null!==r.fragment&&(i(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function le(t,r,s,o,a,l,c,u=[-1]){const h=R;C(t);const d=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:r.context||[]),callbacks:n(),dirty:u,skip_bound:!1,root:r.target||h.$$.root};c&&c(d.root);let p=!1;if(d.ctx=s?s(t,r.props||{},((e,r,...n)=>{const i=n.length?n[0]:r;return d.ctx&&a(d.ctx[e],d.ctx[e]=i)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](i),p&&function(e,t){-1===e.$$.dirty[0]&&(D.push(e),H(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),r})):[],d.update(),p=!0,i(d.before_update),d.fragment=!!o&&o(d.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);d.fragment&&d.fragment.l(e),e.forEach(v)}else d.fragment&&d.fragment.c();r.intro&&te(t.$$.fragment),oe(t,r.target,r.anchor,r.customElement),J()}C(h)}class ce{$destroy(){ae(this,1),this.$destroy=e}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ue=[];function he(e,t){return{subscribe:de(e,t).subscribe}}function de(t,r=e){let n;const i=new Set;function s(e){if(o(t,e)&&(t=e,n)){const e=!ue.length;for(const e of i)e[1](),ue.push(e,t);if(e){for(let e=0;e<ue.length;e+=2)ue[e][0](ue[e+1]);ue.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(o,a=e){const l=[o,a];return i.add(l),1===i.size&&(n=r(s)||e),o(t),()=>{i.delete(l),0===i.size&&(n(),n=null)}}}}function pe(t,r,n){const o=!Array.isArray(t),l=o?[t]:t,c=r.length<2;return he(n,(t=>{let n=!1;const u=[];let h=0,d=e;const p=()=>{if(h)return;d();const n=r(o?u[0]:u,t);c?t(n):d=s(n)?n:e},f=l.map(((e,t)=>a(e,(e=>{u[t]=e,h&=~(1<<t),n&&p()}),(()=>{h|=1<<t}))));return n=!0,p(),function(){i(f),d()}}))}var fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function me(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ge=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===ye}(e)}(e)};var ye="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function ve(e,t){return!1!==t.clone&&t.isMergeableObject(e)?$e((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function be(e,t,r){return e.concat(t).map((function(e){return ve(e,r)}))}function _e(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function we(e,t){try{return t in e}catch(e){return!1}}function Ee(e,t,r){var n={};return r.isMergeableObject(e)&&_e(e).forEach((function(t){n[t]=ve(e[t],r)})),_e(t).forEach((function(i){(function(e,t){return we(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(we(e,i)&&r.isMergeableObject(t[i])?n[i]=function(e,t){if(!t.customMerge)return $e;var r=t.customMerge(e);return"function"==typeof r?r:$e}(i,r)(e[i],t[i],r):n[i]=ve(t[i],r))})),n}function $e(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||be,r.isMergeableObject=r.isMergeableObject||ge,r.cloneUnlessOtherwiseSpecified=ve;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):Ee(e,t,r):ve(t,r)}$e.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return $e(e,r,t)}),{})};var Te=$e,Se=function(e,t){return(Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function xe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}Se(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var Oe,Pe,Ae,ke=function(){return(ke=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Ie(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))}function Re(e,t,r){if(r||2===arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function Ce(e){return e.type===Pe.literal}function Ue(e){return e.type===Pe.argument}function je(e){return e.type===Pe.number}function Le(e){return e.type===Pe.date}function Ne(e){return e.type===Pe.time}function De(e){return e.type===Pe.select}function Me(e){return e.type===Pe.plural}function Ge(e){return e.type===Pe.pound}function Fe(e){return e.type===Pe.tag}function Be(e){return!(!e||"object"!=typeof e||e.type!==Ae.number)}function ze(e){return!(!e||"object"!=typeof e||e.type!==Ae.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(Oe||(Oe={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(Pe||(Pe={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(Ae||(Ae={}));var He=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,Ve=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function Xe(e){var t={};return e.replace(Ve,(function(e){var r=e.length;switch(e[0]){case"G":t.era=4===r?"long":5===r?"narrow":"short";break;case"y":t.year=2===r?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===r?"short":5===r?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][r-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][r-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][r-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][r-1];break;case"s":t.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var qe=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var We,Je=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,Ke=/^(@+)?(\+|#+)?$/g,Ye=/(\*)(0+)|(#+)(0+)|(0+)/g,Ze=/^(0+)$/;function Qe(e){var t={};return e.replace(Ke,(function(e,r,n){return"string"!=typeof n?(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length):"+"===n?t.minimumSignificantDigits=r.length:"#"===r[0]?t.maximumSignificantDigits=r.length:(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length+("string"==typeof n?n.length:0)),""})),t}function et(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function tt(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var r=e.slice(0,2);if("+!"===r?(t.signDisplay="always",e=e.slice(2)):"+?"===r&&(t.signDisplay="exceptZero",e=e.slice(2)),!Ze.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function rt(e){var t=et(e);return t||{}}function nt(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=i.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=ke(ke(ke({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return ke(ke({},e),rt(t))}),{}));continue;case"engineering":t=ke(ke(ke({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return ke(ke({},e),rt(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(Ye,(function(e,r,n,i,s,o){if(r)t.minimumIntegerDigits=n.length;else{if(i&&s)throw new Error("We currently do not support maximum integer digits");if(o)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(Ze.test(i.stem))t.minimumIntegerDigits=i.stem.length;else if(Je.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(Je,(function(e,r,n,i,s,o){return"*"===n?t.minimumFractionDigits=r.length:i&&"#"===i[0]?t.maximumFractionDigits=i.length:s&&o?(t.minimumFractionDigits=s.length,t.maximumFractionDigits=s.length+o.length):(t.minimumFractionDigits=r.length,t.maximumFractionDigits=r.length),""})),i.options.length&&(t=ke(ke({},t),Qe(i.options[0])))}else if(Ke.test(i.stem))t=ke(ke({},t),Qe(i.stem));else{var s=et(i.stem);s&&(t=ke(ke({},t),s));var o=tt(i.stem);o&&(t=ke(ke({},t),o))}}return t}var it=new RegExp("^"+He.source+"*"),st=new RegExp(He.source+"*$");function ot(e,t){return{start:e,end:t}}var at=!!String.prototype.startsWith,lt=!!String.fromCodePoint,ct=!!Object.fromEntries,ut=!!String.prototype.codePointAt,ht=!!String.prototype.trimStart,dt=!!String.prototype.trimEnd,pt=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},ft=!0;try{ft="a"===(null===(We=Et("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===We?void 0:We[0])}catch(e){ft=!1}var mt,gt=at?function(e,t,r){return e.startsWith(t,r)}:function(e,t,r){return e.slice(r,r+t.length)===t},yt=lt?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r,n="",i=e.length,s=0;i>s;){if((r=e[s++])>1114111)throw RangeError(r+" is not a valid code point");n+=r<65536?String.fromCharCode(r):String.fromCharCode(55296+((r-=65536)>>10),r%1024+56320)}return n},vt=ct?Object.fromEntries:function(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r],s=i[0],o=i[1];t[s]=o}return t},bt=ut?function(e,t){return e.codePointAt(t)}:function(e,t){var r=e.length;if(!(t<0||t>=r)){var n,i=e.charCodeAt(t);return i<55296||i>56319||t+1===r||(n=e.charCodeAt(t+1))<56320||n>57343?i:n-56320+(i-55296<<10)+65536}},_t=ht?function(e){return e.trimStart()}:function(e){return e.replace(it,"")},wt=dt?function(e){return e.trimEnd()}:function(e){return e.replace(st,"")};function Et(e,t){return new RegExp(e,t)}if(ft){var $t=Et("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");mt=function(e,t){var r;return $t.lastIndex=t,null!==(r=$t.exec(e)[1])&&void 0!==r?r:""}}else mt=function(e,t){for(var r=[];;){var n=bt(e,t);if(void 0===n||Ot(n)||Pt(n))break;r.push(n),t+=n>=65536?2:1}return yt.apply(void 0,r)};var Tt=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,r){for(var n=[];!this.isEOF();){var i=this.char();if(123===i){if((s=this.parseArgument(e,r)).err)return s;n.push(s.val)}else{if(125===i&&e>0)break;if(35!==i||"plural"!==t&&"selectordinal"!==t){if(60===i&&!this.ignoreTag&&47===this.peek()){if(r)break;return this.error(Oe.UNMATCHED_CLOSING_TAG,ot(this.clonePosition(),this.clonePosition()))}if(60===i&&!this.ignoreTag&&St(this.peek()||0)){if((s=this.parseTag(e,t)).err)return s;n.push(s.val)}else{var s;if((s=this.parseLiteral(e,t)).err)return s;n.push(s.val)}}else{var o=this.clonePosition();this.bump(),n.push({type:Pe.pound,location:ot(o,this.clonePosition())})}}}return{val:n,err:null}},e.prototype.parseTag=function(e,t){var r=this.clonePosition();this.bump();var n=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Pe.literal,value:"<"+n+"/>",location:ot(r,this.clonePosition())},err:null};if(this.bumpIf(">")){var i=this.parseMessage(e+1,t,!0);if(i.err)return i;var s=i.val,o=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!St(this.char()))return this.error(Oe.INVALID_TAG,ot(o,this.clonePosition()));var a=this.clonePosition();return n!==this.parseTagName()?this.error(Oe.UNMATCHED_CLOSING_TAG,ot(a,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Pe.tag,value:n,children:s,location:ot(r,this.clonePosition())},err:null}:this.error(Oe.INVALID_TAG,ot(o,this.clonePosition())))}return this.error(Oe.UNCLOSED_TAG,ot(r,this.clonePosition()))}return this.error(Oe.INVALID_TAG,ot(r,this.clonePosition()))},e.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&xt(this.char());)this.bump();return this.message.slice(e,this.offset())},e.prototype.parseLiteral=function(e,t){for(var r=this.clonePosition(),n="";;){var i=this.tryParseQuote(t);if(i)n+=i;else{var s=this.tryParseUnquoted(e,t);if(s)n+=s;else{var o=this.tryParseLeftAngleBracket();if(!o)break;n+=o}}}var a=ot(r,this.clonePosition());return{val:{type:Pe.literal,value:n,location:a},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(St(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var r=this.char();if(39===r){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(r);this.bump()}return yt.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var r=this.char();return 60===r||123===r||35===r&&("plural"===t||"selectordinal"===t)||125===r&&e>0?null:(this.bump(),yt(r))},e.prototype.parseArgument=function(e,t){var r=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Oe.EXPECT_ARGUMENT_CLOSING_BRACE,ot(r,this.clonePosition()));if(125===this.char())return this.bump(),this.error(Oe.EMPTY_ARGUMENT,ot(r,this.clonePosition()));var n=this.parseIdentifierIfPossible().value;if(!n)return this.error(Oe.MALFORMED_ARGUMENT,ot(r,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Oe.EXPECT_ARGUMENT_CLOSING_BRACE,ot(r,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Pe.argument,value:n,location:ot(r,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Oe.EXPECT_ARGUMENT_CLOSING_BRACE,ot(r,this.clonePosition())):this.parseArgumentOptions(e,t,n,r);default:return this.error(Oe.MALFORMED_ARGUMENT,ot(r,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),r=mt(this.message,t),n=t+r.length;return this.bumpTo(n),{value:r,location:ot(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,r,n){var i,s=this.clonePosition(),o=this.parseIdentifierIfPossible().value,a=this.clonePosition();switch(o){case"":return this.error(Oe.EXPECT_ARGUMENT_TYPE,ot(s,a));case"number":case"date":case"time":this.bumpSpace();var l=null;if(this.bumpIf(",")){this.bumpSpace();var c=this.clonePosition();if((g=this.parseSimpleArgStyleIfPossible()).err)return g;if(0===(d=wt(g.val)).length)return this.error(Oe.EXPECT_ARGUMENT_STYLE,ot(this.clonePosition(),this.clonePosition()));l={style:d,styleLocation:ot(c,this.clonePosition())}}if((y=this.tryParseArgumentClose(n)).err)return y;var u=ot(n,this.clonePosition());if(l&&gt(null==l?void 0:l.style,"::",0)){var h=_t(l.style.slice(2));if("number"===o)return(g=this.parseNumberSkeletonFromString(h,l.styleLocation)).err?g:{val:{type:Pe.number,value:r,location:u,style:g.val},err:null};if(0===h.length)return this.error(Oe.EXPECT_DATE_TIME_SKELETON,u);var d={type:Ae.dateTime,pattern:h,location:l.styleLocation,parsedOptions:this.shouldParseSkeletons?Xe(h):{}};return{val:{type:"date"===o?Pe.date:Pe.time,value:r,location:u,style:d},err:null}}return{val:{type:"number"===o?Pe.number:"date"===o?Pe.date:Pe.time,value:r,location:u,style:null!==(i=null==l?void 0:l.style)&&void 0!==i?i:null},err:null};case"plural":case"selectordinal":case"select":var p=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Oe.EXPECT_SELECT_ARGUMENT_OPTIONS,ot(p,ke({},p)));this.bumpSpace();var f=this.parseIdentifierIfPossible(),m=0;if("select"!==o&&"offset"===f.value){if(!this.bumpIf(":"))return this.error(Oe.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,ot(this.clonePosition(),this.clonePosition()));var g;if(this.bumpSpace(),(g=this.tryParseDecimalInteger(Oe.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Oe.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return g;this.bumpSpace(),f=this.parseIdentifierIfPossible(),m=g.val}var y,v=this.tryParsePluralOrSelectOptions(e,o,t,f);if(v.err)return v;if((y=this.tryParseArgumentClose(n)).err)return y;var b=ot(n,this.clonePosition());return"select"===o?{val:{type:Pe.select,value:r,options:vt(v.val),location:b},err:null}:{val:{type:Pe.plural,value:r,options:vt(v.val),offset:m,pluralType:"plural"===o?"cardinal":"ordinal",location:b},err:null};default:return this.error(Oe.INVALID_ARGUMENT_TYPE,ot(s,a))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(Oe.EXPECT_ARGUMENT_CLOSING_BRACE,ot(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var r=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Oe.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,ot(r,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var r=[];try{r=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],r=0,n=e.split(qe).filter((function(e){return e.length>0}));r<n.length;r++){var i=n[r].split("/");if(0===i.length)throw new Error("Invalid number skeleton");for(var s=i[0],o=i.slice(1),a=0,l=o;a<l.length;a++)if(0===l[a].length)throw new Error("Invalid number skeleton");t.push({stem:s,options:o})}return t}(e)}catch(e){return this.error(Oe.INVALID_NUMBER_SKELETON,t)}return{val:{type:Ae.number,tokens:r,location:t,parsedOptions:this.shouldParseSkeletons?nt(r):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,r,n){for(var i,s=!1,o=[],a=new Set,l=n.value,c=n.location;;){if(0===l.length){var u=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var h=this.tryParseDecimalInteger(Oe.EXPECT_PLURAL_ARGUMENT_SELECTOR,Oe.INVALID_PLURAL_ARGUMENT_SELECTOR);if(h.err)return h;c=ot(u,this.clonePosition()),l=this.message.slice(u.offset,this.offset())}if(a.has(l))return this.error("select"===t?Oe.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Oe.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,c);"other"===l&&(s=!0),this.bumpSpace();var d=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?Oe.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Oe.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,ot(this.clonePosition(),this.clonePosition()));var p=this.parseMessage(e+1,t,r);if(p.err)return p;var f=this.tryParseArgumentClose(d);if(f.err)return f;o.push([l,{value:p.val,location:ot(d,this.clonePosition())}]),a.add(l),this.bumpSpace(),l=(i=this.parseIdentifierIfPossible()).value,c=i.location}return 0===o.length?this.error("select"===t?Oe.EXPECT_SELECT_ARGUMENT_SELECTOR:Oe.EXPECT_PLURAL_ARGUMENT_SELECTOR,ot(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(Oe.MISSING_OTHER_CLAUSE,ot(this.clonePosition(),this.clonePosition())):{val:o,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var r=1,n=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(r=-1);for(var i=!1,s=0;!this.isEOF();){var o=this.char();if(!(o>=48&&o<=57))break;i=!0,s=10*s+(o-48),this.bump()}var a=ot(n,this.clonePosition());return i?pt(s*=r)?{val:s,err:null}:this.error(t,a):this.error(e,a)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=bt(this.message,e);if(void 0===t)throw Error("Offset "+e+" is at invalid UTF-16 code unit boundary");return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(gt(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),r=this.message.indexOf(e,t);return r>=0?(this.bumpTo(r),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset "+e+" must be greater than or equal to the current offset "+this.offset());for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset "+e+" is at invalid UTF-16 code unit boundary");if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&Ot(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),r=this.message.charCodeAt(t+(e>=65536?2:1));return null!=r?r:null},e}();function St(e){return e>=97&&e<=122||e>=65&&e<=90}function xt(e){return 45===e||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function Ot(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function Pt(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function At(e){e.forEach((function(e){if(delete e.location,De(e)||Me(e))for(var t in e.options)delete e.options[t].location,At(e.options[t].value);else je(e)&&Be(e.style)||(Le(e)||Ne(e))&&ze(e.style)?delete e.style.location:Fe(e)&&At(e.children)}))}function kt(e,t){void 0===t&&(t={}),t=ke({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var r=new Tt(e,t).parse();if(r.err){var n=SyntaxError(Oe[r.err.kind]);throw n.location=r.err.location,n.originalMessage=r.err.message,n}return(null==t?void 0:t.captureLocation)||At(r.val),r.val}function It(e,t){var r=t&&t.cache?t.cache:Mt,n=t&&t.serializer?t.serializer:Lt;return(t&&t.strategy?t.strategy:jt)(e,{cache:r,serializer:n})}function Rt(e,t,r,n){var i,s=null==(i=n)||"number"==typeof i||"boolean"==typeof i?n:r(n),o=t.get(s);return void 0===o&&(o=e.call(this,n),t.set(s,o)),o}function Ct(e,t,r){var n=Array.prototype.slice.call(arguments,3),i=r(n),s=t.get(i);return void 0===s&&(s=e.apply(this,n),t.set(i,s)),s}function Ut(e,t,r,n,i){return r.bind(t,e,n,i)}function jt(e,t){return Ut(e,this,1===e.length?Rt:Ct,t.cache.create(),t.serializer)}var Lt=function(){return JSON.stringify(arguments)};function Nt(){this.cache=Object.create(null)}Nt.prototype.get=function(e){return this.cache[e]},Nt.prototype.set=function(e,t){this.cache[e]=t};var Dt,Mt={create:function(){return new Nt}},Gt={variadic:function(e,t){return Ut(e,this,Ct,t.cache.create(),t.serializer)},monadic:function(e,t){return Ut(e,this,Rt,t.cache.create(),t.serializer)}};!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(Dt||(Dt={}));var Ft,Bt=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.code=r,i.originalMessage=n,i}return xe(t,e),t.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},t}(Error),zt=function(e){function t(t,r,n,i){return e.call(this,'Invalid values for "'+t+'": "'+r+'". Options are "'+Object.keys(n).join('", "')+'"',Dt.INVALID_VALUE,i)||this}return xe(t,e),t}(Bt),Ht=function(e){function t(t,r,n){return e.call(this,'Value for "'+t+'" must be of type '+r,Dt.INVALID_VALUE,n)||this}return xe(t,e),t}(Bt),Vt=function(e){function t(t,r){return e.call(this,'The intl string context variable "'+t+'" was not provided to the string "'+r+'"',Dt.MISSING_VALUE,r)||this}return xe(t,e),t}(Bt);function Xt(e){return"function"==typeof e}function qt(e,t,r,n,i,s,o){if(1===e.length&&Ce(e[0]))return[{type:Ft.literal,value:e[0].value}];for(var a=[],l=0,c=e;l<c.length;l++){var u=c[l];if(Ce(u))a.push({type:Ft.literal,value:u.value});else if(Ge(u))"number"==typeof s&&a.push({type:Ft.literal,value:r.getNumberFormat(t).format(s)});else{var h=u.value;if(!i||!(h in i))throw new Vt(h,o);var d=i[h];if(Ue(u))d&&"string"!=typeof d&&"number"!=typeof d||(d="string"==typeof d||"number"==typeof d?String(d):""),a.push({type:"string"==typeof d?Ft.literal:Ft.object,value:d});else if(Le(u)){var p="string"==typeof u.style?n.date[u.style]:ze(u.style)?u.style.parsedOptions:void 0;a.push({type:Ft.literal,value:r.getDateTimeFormat(t,p).format(d)})}else if(Ne(u)){p="string"==typeof u.style?n.time[u.style]:ze(u.style)?u.style.parsedOptions:void 0;a.push({type:Ft.literal,value:r.getDateTimeFormat(t,p).format(d)})}else if(je(u)){(p="string"==typeof u.style?n.number[u.style]:Be(u.style)?u.style.parsedOptions:void 0)&&p.scale&&(d*=p.scale||1),a.push({type:Ft.literal,value:r.getNumberFormat(t,p).format(d)})}else{if(Fe(u)){var f=u.children,m=u.value,g=i[m];if(!Xt(g))throw new Ht(m,"function",o);var y=g(qt(f,t,r,n,i,s).map((function(e){return e.value})));Array.isArray(y)||(y=[y]),a.push.apply(a,y.map((function(e){return{type:"string"==typeof e?Ft.literal:Ft.object,value:e}})))}if(De(u)){if(!(v=u.options[d]||u.options.other))throw new zt(u.value,d,Object.keys(u.options),o);a.push.apply(a,qt(v.value,t,r,n,i))}else if(Me(u)){var v;if(!(v=u.options["="+d])){if(!Intl.PluralRules)throw new Bt('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Dt.MISSING_INTL_API,o);var b=r.getPluralRules(t,{type:u.pluralType}).select(d-(u.offset||0));v=u.options[b]||u.options.other}if(!v)throw new zt(u.value,d,Object.keys(u.options),o);a.push.apply(a,qt(v.value,t,r,n,i,d-(u.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var r=e[e.length-1];return r&&r.type===Ft.literal&&t.type===Ft.literal?r.value+=t.value:e.push(t),e}),[])}(a)}function Wt(e,t){return t?Object.keys(e).reduce((function(r,n){var i,s;return r[n]=(i=e[n],(s=t[n])?ke(ke(ke({},i||{}),s||{}),Object.keys(i).reduce((function(e,t){return e[t]=ke(ke({},i[t]),s[t]||{}),e}),{})):i),r}),ke({},e)):e}function Jt(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(Ft||(Ft={}));var Kt=function(){function e(t,r,n,i){var s,o=this;if(void 0===r&&(r=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=o.formatToParts(e);if(1===t.length)return t[0].value;var r=t.reduce((function(e,t){return e.length&&t.type===Ft.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return r.length<=1?r[0]||"":r},this.formatToParts=function(e){return qt(o.ast,o.locales,o.formatters,o.formats,e,void 0,o.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(o.locales)[0]}},this.getAst=function(){return o.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==i?void 0:i.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Wt(e.formats,n),this.locales=r,this.formatters=i&&i.formatters||(void 0===(s=this.formatterCache)&&(s={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:It((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.NumberFormat).bind.apply(e,Re([void 0],t)))}),{cache:Jt(s.number),strategy:Gt.variadic}),getDateTimeFormat:It((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.DateTimeFormat).bind.apply(e,Re([void 0],t)))}),{cache:Jt(s.dateTime),strategy:Gt.variadic}),getPluralRules:It((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.PluralRules).bind.apply(e,Re([void 0],t)))}),{cache:Jt(s.pluralRules),strategy:Gt.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=kt,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();const Yt={},Zt=(e,t,r)=>r?(t in Yt||(Yt[t]={}),e in Yt[t]||(Yt[t][e]=r),r):r,Qt=(e,t)=>{if(null==t)return;if(t in Yt&&e in Yt[t])return Yt[t][e];const r=yr(t);for(let n=0;n<r.length;n++){const i=nr(r[n],e);if(i)return Zt(e,t,i)}};let er;const tr=de({});function rr(e){return e in er}function nr(e,t){return rr(e)?function(e,t){if(t in e)return e[t];const r=t.split(".");let n=e;for(let e=0;e<r.length;e++)if("object"==typeof n){if(e>0){const t=r.slice(e,r.length).join(".");if(t in n){n=n[t];break}}n=n[r[e]]}else n=void 0;return n}(function(e){return er[e]||null}(e),t):null}function ir(e,...t){delete Yt[e],tr.update((r=>(r[e]=Te.all([r[e]||{},...t]),r)))}pe([tr],(([e])=>Object.keys(e))),tr.subscribe((e=>er=e));const sr={};function or(e){return sr[e]}function ar(e){return yr(e).some((e=>{var t;return null===(t=or(e))||void 0===t?void 0:t.size}))}const lr={};function cr(e){if(!ar(e))return e in lr?lr[e]:void 0;const t=function(e){return yr(e).map((e=>{const t=or(e);return[e,t?[...t]:[]]})).filter((([,e])=>e.length>0))}(e);return lr[e]=Promise.all(t.map((([e,t])=>function(e,t){return Promise.all(t.map((t=>(function(e,t){sr[e].delete(t),0===sr[e].size&&delete sr[e]}(e,t),t().then((e=>e.default||e)))))).then((t=>ir(e,...t)))}(e,t)))).then((()=>{if(ar(e))return cr(e);delete lr[e]})),lr[e]}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function ur(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}const hr={fallbackLocale:null,initialLocale:null,loadingDelay:200,formats:{number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},warnOnMissingMessages:!0,ignoreTag:!0};function dr(){return hr}const pr=de(!1);let fr;const mr=de(null);function gr(e){return e.split("-").map(((e,t,r)=>r.slice(0,t+1).join("-"))).reverse()}function yr(e,t=dr().fallbackLocale){const r=gr(e);return t?[...new Set([...r,...gr(t)])]:r}function vr(){return fr}mr.subscribe((e=>{fr=e,"undefined"!=typeof window&&null!==e&&document.documentElement.setAttribute("lang",e)}));const br=mr.set;mr.set=e=>{if(function(e){if(null==e)return;const t=yr(e);for(let e=0;e<t.length;e++){const r=t[e];if(rr(r))return r}}(e)&&ar(e)){const{loadingDelay:t}=dr();let r;return"undefined"!=typeof window&&null!=vr()&&t?r=window.setTimeout((()=>pr.set(!0)),t):pr.set(!0),cr(e).then((()=>{br(e)})).finally((()=>{clearTimeout(r),pr.set(!1)}))}return br(e)},mr.update=e=>br(e(fr));const _r=e=>{const t=Object.create(null);return r=>{const n=JSON.stringify(r);return n in t?t[n]:t[n]=e(r)}},wr=(e,t)=>{const{formats:r}=dr();if(e in r&&t in r[e])return r[e][t];throw new Error(`[svelte-i18n] Unknown "${t}" ${e} format.`)},Er=_r((e=>{var{locale:t,format:r}=e,n=ur(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return r&&(n=wr("number",r)),new Intl.NumberFormat(t,n)})),$r=_r((e=>{var{locale:t,format:r}=e,n=ur(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return r?n=wr("date",r):0===Object.keys(n).length&&(n=wr("date","short")),new Intl.DateTimeFormat(t,n)})),Tr=_r((e=>{var{locale:t,format:r}=e,n=ur(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return r?n=wr("time",r):0===Object.keys(n).length&&(n=wr("time","short")),new Intl.DateTimeFormat(t,n)})),Sr=_r(((e,t=vr())=>new Kt(e,t,dr().formats,{ignoreTag:dr().ignoreTag}))),xr=(e,t={})=>{"object"==typeof e&&(e=(t=e).id);const{values:r,locale:n=vr(),default:i}=t;if(null==n)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");let s=Qt(e,n);if(s){if("string"!=typeof s)return console.warn(`[svelte-i18n] Message with id "${e}" must be of type "string", found: "${typeof s}". Gettin its value through the "$format" method is deprecated; use the "json" method instead.`),s}else dr().warnOnMissingMessages&&console.warn(`[svelte-i18n] The message "${e}" was not found in "${yr(n).join('", "')}".${ar(vr())?"\n\nNote: there are at least one loader still registered to this locale that wasn't executed.":""}`),s=i||e;if(!r)return s;let o=s;try{o=Sr(s,n).format(r)}catch(t){console.warn(`[svelte-i18n] Message "${e}" has syntax error:`,t.message)}return o},Or=(e,t)=>((e={})=>{var{locale:t=vr()}=e,r=ur(e,["locale"]);return Tr(Object.assign({locale:t},r))})(t).format(e),Pr=(e,t)=>((e={})=>{var{locale:t=vr()}=e,r=ur(e,["locale"]);return $r(Object.assign({locale:t},r))})(t).format(e),Ar=(e,t)=>((e={})=>{var{locale:t=vr()}=e,r=ur(e,["locale"]);return Er(Object.assign({locale:t},r))})(t).format(e),kr=(e,t=vr())=>Qt(e,t),Ir=pe([mr,tr],(()=>xr));pe([mr],(()=>Or)),pe([mr],(()=>Pr)),pe([mr],(()=>Ar)),pe([mr,tr],(()=>kr));var Rr={loading:"로딩중",email:"이메일",pw:"비밀번호",sign_out:"로그아웃",login:"로그인",sign_in:"로그인하기",member:"멤버",SignIn:{email_hint:"이메일을 입력하세요",pw_hint:"비밀번호를 입력하세요",forgot_your_password:"비밀번호를 잊으셨나요",do_not_have_account:"계정이 없으신가요",sign_in_with_google:"Google 계정으로 로그인",sign_in_with_facebook:"Facebook 계정으로 로그인",look_around:"둘러보기"},SignUp:{title:"회원가입",email:"이메일",email_hint:"이메일 주소를 입력하세요",pw:"비밀번호",pw_hint:"비밀번호를 입력하세요",pw_confirm:"비밀번호 확인",pw_confirm_hint:"비밀번호를 한번 더 입력하세요",terms_and_agreement:'위카운트 <a href="https://legacy.dooboolab.com/termsofservice">이용약관</a> 및 <a href="https://legacy.dooboolab.com/privacyandpolicy">개인정보취급방침</a>에 모두 동의합니다.',missing_inputs:"모든 항목이 기재되지 않았습니다. 회원가입을 위해 모든 정보를 입력해주세요."},intro:{welcome:"안녕하세요. 🙌 WE카운트에 오신 것을 환영합니다."},temp:{title:"템플릿"},Member:{name:"이름",permission:"권한",role:"역할",role_representative:"대표관리자",role_all:"전체"},Feed:{FeedCreatePopup:{category:"구분",income:"수입",spending:"지출",price:"금액",price_hint:"금액을 입력하세요.",title:"수입처",title_hint:"수입처를 알려주세요.",content:"내용",content_hint:"내용을 작성하세요",image:"사진",image_hint:"최대 7장 첨부 가능",cancel:"취소",submit:"확인"}}};ir("en",{loading:"loading",email:"Email",pw:"Password",login:"Login",sign_out:"Sign Out",sign_in:"Sign In",member:"Member",SignIn:{email_hint:"Write your email address",pw_hint:"Write your password",forgot_your_password:"Forgot your password",do_not_have_account:"Don't have an account",sign_in_with_google:"Sign In with Google",sign_in_with_facebook:"Sign In with Facebook",look_around:"Look around"},SignUp:{title:"Sign Up",email_hint:"Write your email address",pw_hint:"Write your password",pw_confirm:"Confirm password",pw_confirm_hint:"Confirm your password",terms_and_agreement:'I agree with &nbsp;<a href="https://legacy.dooboolab.com/termsofservice">Terms for Agreement</a>&nbsp;and&nbsp;<a href="https://legacy.dooboolab.com/privacyandpolicy">Privacy and Policy</a>.',missing_inputs:"Some information is missing. Please fill all information."},Intro:{welcome:"Hello there ~ 🙌 Welcome to WeCount."},Temp:{title:"Template"},Member:{name:"Name",permission:"Permission",role:"Role",role_representative:"Representative",role_all:"All"},Feed:{FeedCreatePopup:{category:"Category",income:"Income",spending:"Spending",price:"Price",price_hint:"Write price",title:"Title",title_hint:"Write title",content:"Contnet",content_hint:"Write content",image:"image",image_hint:"Up to 7 images can be add",cancel:"Cancel",submit:"Submit"}}}),ir("ko",Rr),function(e){const{formats:t}=e,r=ur(e,["formats"]),n=e.initialLocale||e.fallbackLocale;Object.assign(hr,r,{initialLocale:n}),t&&("number"in t&&Object.assign(hr.formats.number,t.number),"date"in t&&Object.assign(hr.formats.date,t.date),"time"in t&&Object.assign(hr.formats.time,t.time)),mr.set(n)}({fallbackLocale:"en",initialLocale:"undefined"==typeof window?null:window.navigator.language||window.navigator.languages[0]});const Cr=de(null);var Ur={exports:{}};!function(e,t){var r="undefined"!=typeof self?self:fe,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in e,o="ArrayBuffer"in e;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function m(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,r,n=p(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=f(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=c(e),t=u(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},d.prototype.delete=function(e){delete this.map[c(e)]},d.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},d.prototype.set=function(e,t){this.map[c(e)]=u(t)},d.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),h(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),h(e)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var r,n,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),v.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function _(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function w(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];w.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function $(e,r){return new Promise((function(n,s){var o=new b(e,r);if(o.signal&&o.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function l(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new w(i,r))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new t.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",l),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",l)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}$.polyfill=!0,e.fetch||(e.fetch=$,e.Headers=d,e.Request=b,e.Response=w),t.Headers=d,t.Request=b,t.Response=w,t.fetch=$,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(Ur,Ur.exports);var jr=me(Ur.exports),Lr=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};const Nr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e);function Dr(e,t,r,n){return Lr(this,void 0,void 0,(function*(){return new Promise(((i,s)=>{jr(t,((e,t,r)=>{const n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e||(n.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},null==t?void 0:t.headers),n.body=JSON.stringify(r)),n})(e,r,n)).then((e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?i:e.json()})).then((e=>i(e))).catch((e=>((e,t)=>{if("function"!=typeof e.json)return t(e);e.json().then((r=>t({message:Nr(r),status:(null==e?void 0:e.status)||500})))})(e,s)))}))}))}function Mr(e,t,r){return Lr(this,void 0,void 0,(function*(){return Dr("POST",e,r,t)}))}const Gr="supabase.auth.token",Fr={name:"sb:token",lifetime:28800,domain:"",path:"/",sameSite:"lax"};function Br(e,t){var r,n,i;return function(e,t,r){const n=r||{},i=encodeURIComponent,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if("function"!=typeof i)throw new TypeError("option encode is invalid");if(!s.test(e))throw new TypeError("argument name is invalid");const o=i(t);if(o&&!s.test(o))throw new TypeError("argument val is invalid");let a=e+"="+o;if(null!=n.maxAge){const e=n.maxAge-0;if(isNaN(e)||!isFinite(e))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(e)}if(n.domain){if(!s.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!s.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}(e.name,e.value,{maxAge:e.maxAge,expires:new Date(Date.now()+1e3*e.maxAge),httpOnly:!0,secure:t,path:null!==(r=e.path)&&void 0!==r?r:"/",domain:null!==(n=e.domain)&&void 0!==n?n:"",sameSite:null!==(i=e.sameSite)&&void 0!==i?i:"lax"})}function zr(e,t,r){const n=r.map((t=>Br(t,function(e){if(!e||!e.headers||!e.headers.host)throw new Error('The "host" request header is not available');const t=e.headers.host.indexOf(":")>-1&&e.headers.host.split(":")[0]||e.headers.host;return!(["localhost","127.0.0.1"].indexOf(t)>-1||t.endsWith(".local"))}(e)))),i=t.getHeader("Set-Cookie");i&&(i instanceof Array?Array.prototype.push.apply(n,i):"string"==typeof i&&n.push(i)),t.setHeader("Set-Cookie",n)}function Hr(e,t,r){zr(e,t,[r])}function Vr(e){return Math.round(Date.now()/1e3)+e}const Xr=()=>"undefined"!=typeof window;function qr(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}class Wr{constructor(e){this.localStorage=e||globalThis.localStorage}clear(){return this.localStorage.clear()}key(e){return this.localStorage.key(e)}setItem(e,t){return this.localStorage.setItem(e,t)}getItem(e){return this.localStorage.getItem(e)}removeItem(e){return this.localStorage.removeItem(e)}}var Jr=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};class Kr{constructor({url:e="",headers:t={},cookieOptions:r}){this.url=e,this.headers=t,this.cookieOptions=Object.assign(Object.assign({},Fr),r)}signUpWithEmail(e,t,r={}){return Jr(this,void 0,void 0,(function*(){try{let n=Object.assign({},this.headers),i="";r.redirectTo&&(i="?redirect_to="+encodeURIComponent(r.redirectTo));const s=yield Mr(`${this.url}/signup${i}`,{email:e,password:t},{headers:n});let o=Object.assign({},s);return o.expires_in&&(o.expires_at=Vr(s.expires_in)),{data:o,error:null}}catch(e){return{data:null,error:e}}}))}signInWithEmail(e,t,r={}){return Jr(this,void 0,void 0,(function*(){try{let n=Object.assign({},this.headers),i="?grant_type=password";r.redirectTo&&(i+="&redirect_to="+encodeURIComponent(r.redirectTo));const s=yield Mr(`${this.url}/token${i}`,{email:e,password:t},{headers:n});let o=Object.assign({},s);return o.expires_in&&(o.expires_at=Vr(s.expires_in)),{data:o,error:null}}catch(e){return{data:null,error:e}}}))}signUpWithPhone(e,t){return Jr(this,void 0,void 0,(function*(){try{let r=Object.assign({},this.headers);const n=yield Mr(`${this.url}/signup`,{phone:e,password:t},{headers:r});let i=Object.assign({},n);return i.expires_in&&(i.expires_at=Vr(n.expires_in)),{data:i,error:null}}catch(e){return{data:null,error:e}}}))}signInWithPhone(e,t){return Jr(this,void 0,void 0,(function*(){try{let r=Object.assign({},this.headers),n="?grant_type=password";const i=yield Mr(`${this.url}/token${n}`,{phone:e,password:t},{headers:r});let s=Object.assign({},i);return s.expires_in&&(s.expires_at=Vr(i.expires_in)),{data:s,error:null}}catch(e){return{data:null,error:e}}}))}sendMagicLinkEmail(e,t={}){return Jr(this,void 0,void 0,(function*(){try{let r=Object.assign({},this.headers),n="";t.redirectTo&&(n+="?redirect_to="+encodeURIComponent(t.redirectTo));return{data:yield Mr(`${this.url}/magiclink${n}`,{email:e},{headers:r}),error:null}}catch(e){return{data:null,error:e}}}))}sendMobileOTP(e){return Jr(this,void 0,void 0,(function*(){try{let t=Object.assign({},this.headers);return{data:yield Mr(`${this.url}/otp`,{phone:e},{headers:t}),error:null}}catch(e){return{data:null,error:e}}}))}verifyMobileOTP(e,t,r={}){return Jr(this,void 0,void 0,(function*(){try{let n=Object.assign({},this.headers);return{data:yield Mr(`${this.url}/verify`,{phone:e,token:t,type:"sms",redirect_to:r.redirectTo},{headers:n}),error:null}}catch(e){return{data:null,error:e}}}))}inviteUserByEmail(e,t={}){return Jr(this,void 0,void 0,(function*(){try{let r=Object.assign({},this.headers),n="";t.redirectTo&&(n+="?redirect_to="+encodeURIComponent(t.redirectTo));return{data:yield Mr(`${this.url}/invite${n}`,{email:e},{headers:r}),error:null}}catch(e){return{data:null,error:e}}}))}resetPasswordForEmail(e,t={}){return Jr(this,void 0,void 0,(function*(){try{let r=Object.assign({},this.headers),n="";t.redirectTo&&(n+="?redirect_to="+encodeURIComponent(t.redirectTo));return{data:yield Mr(`${this.url}/recover${n}`,{email:e},{headers:r}),error:null}}catch(e){return{data:null,error:e}}}))}_createRequestHeaders(e){const t=Object.assign({},this.headers);return t.Authorization=`Bearer ${e}`,t}signOut(e){return Jr(this,void 0,void 0,(function*(){try{return yield Mr(`${this.url}/logout`,{},{headers:this._createRequestHeaders(e),noResolveJson:!0}),{error:null}}catch(e){return{error:e}}}))}getUrlForProvider(e,t){let r=[`provider=${encodeURIComponent(e)}`];return(null==t?void 0:t.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),(null==t?void 0:t.scopes)&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),`${this.url}/authorize?${r.join("&")}`}getUser(e){return Jr(this,void 0,void 0,(function*(){try{const t=yield function(e,t){return Lr(this,void 0,void 0,(function*(){return Dr("GET",e,t)}))}(`${this.url}/user`,{headers:this._createRequestHeaders(e)});return{user:t,data:t,error:null}}catch(e){return{user:null,data:null,error:e}}}))}updateUser(e,t){return Jr(this,void 0,void 0,(function*(){try{const r=yield function(e,t,r){return Lr(this,void 0,void 0,(function*(){return Dr("PUT",e,r,t)}))}(`${this.url}/user`,t,{headers:this._createRequestHeaders(e)});return{user:r,data:r,error:null}}catch(e){return{user:null,data:null,error:e}}}))}deleteUser(e,t){return Jr(this,void 0,void 0,(function*(){try{const r=yield function(e,t,r){return Lr(this,void 0,void 0,(function*(){return Dr("DELETE",e,r,t)}))}(`${this.url}/admin/users/${e}`,{},{headers:this._createRequestHeaders(t)});return{user:r,data:r,error:null}}catch(e){return{user:null,data:null,error:e}}}))}refreshAccessToken(e){return Jr(this,void 0,void 0,(function*(){try{const t=yield Mr(`${this.url}/token?grant_type=refresh_token`,{refresh_token:e},{headers:this.headers});let r=Object.assign({},t);return r.expires_in&&(r.expires_at=Vr(t.expires_in)),{data:r,error:null}}catch(e){return{data:null,error:e}}}))}setAuthCookie(e,t){"POST"!==e.method&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));const{event:r,session:n}=e.body;if(!r)throw new Error("Auth event missing!");if("SIGNED_IN"===r){if(!n)throw new Error("Auth session missing!");Hr(e,t,{name:this.cookieOptions.name,value:n.access_token,domain:this.cookieOptions.domain,maxAge:this.cookieOptions.lifetime,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite})}"SIGNED_OUT"===r&&function(e,t,r){Hr(e,t,{name:r,value:"",maxAge:-1})}(e,t,this.cookieOptions.name),t.status(200).json({})}getUserByCookie(e){return Jr(this,void 0,void 0,(function*(){try{if(!e.cookies)throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");if(!e.cookies[this.cookieOptions.name])throw new Error("No cookie found!");const t=e.cookies[this.cookieOptions.name],{user:r,error:n}=yield this.getUser(t);if(n)throw n;return{user:r,data:r,error:null}}catch(e){return{user:null,data:null,error:e}}}))}generateLink(e,t,r={}){return Jr(this,void 0,void 0,(function*(){try{return{data:yield Mr(`${this.url}/admin/generate_link`,{type:e,email:t,password:r.password,data:r.data,redirect_to:r.redirectTo},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}}var Yr=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const Zr={url:"http://localhost:9999",autoRefreshToken:!0,persistSession:!0,localStorage:globalThis.localStorage,detectSessionInUrl:!0,headers:{}};class Qr extends class{constructor(e){this.stateChangeEmitters=new Map;const t=Object.assign(Object.assign({},Zr),e);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=t.autoRefreshToken,this.persistSession=t.persistSession,this.localStorage=new Wr(t.localStorage),this.api=new Kr({url:t.url,headers:t.headers,cookieOptions:t.cookieOptions}),this._recoverSession(),this._recoverAndRefresh();try{t.detectSessionInUrl&&Xr()&&qr("access_token")&&this.getSessionFromUrl({storeSession:!0})}catch(e){console.log("Error getting session from URL.")}}signUp({email:e,password:t,phone:r},n={}){return Yr(this,void 0,void 0,(function*(){try{this._removeSession();const{data:i,error:s}=r&&t?yield this.api.signUpWithPhone(r,t):yield this.api.signUpWithEmail(e,t,{redirectTo:n.redirectTo});if(s)throw s;if(!i)throw"An error occurred on sign up.";let o=null,a=null;return i.access_token&&(o=i,a=o.user,this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),i.id&&(a=i),{data:i,user:a,session:o,error:null}}catch(e){return{data:null,user:null,session:null,error:e}}}))}signIn({email:e,phone:t,password:r,refreshToken:n,provider:i},s={}){return Yr(this,void 0,void 0,(function*(){try{if(this._removeSession(),e&&!r){const{error:t}=yield this.api.sendMagicLinkEmail(e,{redirectTo:s.redirectTo});return{data:null,user:null,session:null,error:t}}if(e&&r)return this._handleEmailSignIn(e,r,{redirectTo:s.redirectTo});if(t&&!r){const{error:e}=yield this.api.sendMobileOTP(t);return{data:null,user:null,session:null,error:e}}if(t&&r)return this._handlePhoneSignIn(t,r);if(n){const{error:e}=yield this._callRefreshToken(n);if(e)throw e;return{data:this.currentSession,user:this.currentUser,session:this.currentSession,error:null}}if(i)return this._handleProviderSignIn(i,{redirectTo:s.redirectTo,scopes:s.scopes});throw new Error("You must provide either an email, phone number or a third-party provider.")}catch(e){return{data:null,user:null,session:null,error:e}}}))}verifyOTP({phone:e,token:t},r={}){return Yr(this,void 0,void 0,(function*(){try{this._removeSession();const{data:n,error:i}=yield this.api.verifyMobileOTP(e,t,r);if(i)throw i;if(!n)throw"An error occurred on token verification.";let s=null,o=null;return n.access_token&&(s=n,o=s.user,this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),n.id&&(o=n),{data:n,user:o,session:s,error:null}}catch(e){return{data:null,user:null,session:null,error:e}}}))}user(){return this.currentUser}session(){return this.currentSession}refreshSession(){var e;return Yr(this,void 0,void 0,(function*(){try{if(!(null===(e=this.currentSession)||void 0===e?void 0:e.access_token))throw new Error("Not logged in.");const{error:t}=yield this._callRefreshToken();if(t)throw t;return{data:this.currentSession,user:this.currentUser,error:null}}catch(e){return{data:null,user:null,error:e}}}))}update(e){var t;return Yr(this,void 0,void 0,(function*(){try{if(!(null===(t=this.currentSession)||void 0===t?void 0:t.access_token))throw new Error("Not logged in.");const{user:r,error:n}=yield this.api.updateUser(this.currentSession.access_token,e);if(n)throw n;if(!r)throw Error("Invalid user data.");const i=Object.assign(Object.assign({},this.currentSession),{user:r});return this._saveSession(i),this._notifyAllSubscribers("USER_UPDATED"),{data:r,user:r,error:null}}catch(e){return{data:null,user:null,error:e}}}))}setSession(e){return Yr(this,void 0,void 0,(function*(){try{if(!e)throw new Error("No current session.");const{data:t,error:r}=yield this.api.refreshAccessToken(e);return r?{session:null,error:r}:t?(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"),{session:t,error:null}):{session:null,error:{name:"Invalid refresh_token",message:"JWT token provided is Invalid"}}}catch(e){return{error:e,session:null}}}))}setAuth(e){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:e,token_type:"bearer",user:null}),this.currentSession}getSessionFromUrl(e){return Yr(this,void 0,void 0,(function*(){try{if(!Xr())throw new Error("No browser detected.");const t=qr("error_description");if(t)throw new Error(t);const r=qr("provider_token"),n=qr("access_token");if(!n)throw new Error("No access_token detected.");const i=qr("expires_in");if(!i)throw new Error("No expires_in detected.");const s=qr("refresh_token");if(!s)throw new Error("No refresh_token detected.");const o=qr("token_type");if(!o)throw new Error("No token_type detected.");const a=Math.round(Date.now()/1e3)+parseInt(i),{user:l,error:c}=yield this.api.getUser(n);if(c)throw c;const u={provider_token:r,access_token:n,expires_in:parseInt(i),expires_at:a,refresh_token:s,token_type:o,user:l};return(null==e?void 0:e.storeSession)&&(this._saveSession(u),this._notifyAllSubscribers("SIGNED_IN"),"recovery"===qr("type")&&this._notifyAllSubscribers("PASSWORD_RECOVERY")),window.location.hash="",{data:u,error:null}}catch(e){return{data:null,error:e}}}))}signOut(){var e;return Yr(this,void 0,void 0,(function*(){const t=null===(e=this.currentSession)||void 0===e?void 0:e.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),t){const{error:e}=yield this.api.signOut(t);if(e)return{error:e}}return{error:null}}))}onAuthStateChange(e){try{const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),r=this,n={id:t,callback:e,unsubscribe:()=>{r.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,n),{data:n,error:null}}catch(e){return{data:null,error:e}}}_handleEmailSignIn(e,t,r={}){var n,i;return Yr(this,void 0,void 0,(function*(){try{const{data:s,error:o}=yield this.api.signInWithEmail(e,t,{redirectTo:r.redirectTo});return o||!s?{data:null,user:null,session:null,error:o}:(((null===(n=null==s?void 0:s.user)||void 0===n?void 0:n.confirmed_at)||(null===(i=null==s?void 0:s.user)||void 0===i?void 0:i.email_confirmed_at))&&(this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),{data:s,user:s.user,session:s,error:null})}catch(e){return{data:null,user:null,session:null,error:e}}}))}_handlePhoneSignIn(e,t){var r;return Yr(this,void 0,void 0,(function*(){try{const{data:n,error:i}=yield this.api.signInWithPhone(e,t);return i||!n?{data:null,user:null,session:null,error:i}:((null===(r=null==n?void 0:n.user)||void 0===r?void 0:r.phone_confirmed_at)&&(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN")),{data:n,user:n.user,session:n,error:null})}catch(e){return{data:null,user:null,session:null,error:e}}}))}_handleProviderSignIn(e,t={}){const r=this.api.getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes});try{return Xr()&&(window.location.href=r),{provider:e,url:r,data:null,session:null,user:null,error:null}}catch(t){return r?{provider:e,url:r,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:t}}}_recoverSession(){var e;try{const t=Xr()&&(null===(e=this.localStorage)||void 0===e?void 0:e.getItem(Gr));if(!t||"string"!=typeof t)return null;const r=JSON.parse(t),{currentSession:n,expiresAt:i}=r;i>=Math.round(Date.now()/1e3)&&(null==n?void 0:n.user)&&(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN"))}catch(e){console.log("error",e)}}_recoverAndRefresh(){return Yr(this,void 0,void 0,(function*(){try{const e=Xr()&&(yield this.localStorage.getItem(Gr));if(!e)return null;const t=JSON.parse(e),{currentSession:r,expiresAt:n}=t;if(n<Math.round(Date.now()/1e3))if(this.autoRefreshToken&&r.refresh_token){const{error:e}=yield this._callRefreshToken(r.refresh_token);e&&(console.log(e.message),yield this._removeSession())}else this._removeSession();else r&&r.user?(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN")):(console.log("Current session is missing data."),this._removeSession())}catch(e){return console.error(e),null}}))}_callRefreshToken(e){var t;return void 0===e&&(e=null===(t=this.currentSession)||void 0===t?void 0:t.refresh_token),Yr(this,void 0,void 0,(function*(){try{if(!e)throw new Error("No current session.");const{data:t,error:r}=yield this.api.refreshAccessToken(e);if(r)throw r;if(!t)throw Error("Invalid session data.");return this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"),{data:t,error:null}}catch(e){return{data:null,error:e}}}))}_notifyAllSubscribers(e){this.stateChangeEmitters.forEach((t=>t.callback(e,this.currentSession)))}_saveSession(e){this.currentSession=e,this.currentUser=e.user;const t=e.expires_at;if(t){const e=t-Math.round(Date.now()/1e3),r=e>60?60:.5;this._startAutoRefreshToken(1e3*(e-r))}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}_persistSession(e){const t={currentSession:e,expiresAt:e.expires_at};Xr()&&this.localStorage.setItem(Gr,JSON.stringify(t))}_removeSession(){return Yr(this,void 0,void 0,(function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),Xr()&&(yield this.localStorage.removeItem(Gr))}))}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),e<=0||!this.autoRefreshToken||(this.refreshTokenTimer=setTimeout((()=>this._callRefreshToken()),e),"function"==typeof this.refreshTokenTimer.unref&&this.refreshTokenTimer.unref())}}{constructor(e){super(e)}}var en,tn=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};class rn{constructor(e){Object.assign(this,e)}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){return void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json"),jr(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body)}).then((e=>tn(this,void 0,void 0,(function*(){var t,r,n;let i=null,s=null,o=null;if(e.ok){const i=null===(t=this.headers.Prefer)||void 0===t?void 0:t.split(",").includes("return=minimal");if("HEAD"!==this.method&&!i){const t=yield e.text();t&&(s="text/csv"===this.headers.Accept?t:JSON.parse(t))}const a=null===(r=this.headers.Prefer)||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),l=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");a&&l&&l.length>1&&(o=parseInt(l[1]))}else if(i=yield e.json(),i&&this.shouldThrowOnError)throw i;return{error:i,data:s,count:o,status:e.status,statusText:e.statusText,body:s}})))).then(e,t)}}class nn extends rn{select(e="*"){let t=!1;const r=e.split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",r),this}order(e,{ascending:t=!0,nullsFirst:r=!1,foreignTable:n}={}){const i=void 0===n?"order":`${n}.order`,s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}.${r?"nullsfirst":"nullslast"}`),this}limit(e,{foreignTable:t}={}){const r=void 0===t?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:r}={}){const n=void 0===r?"offset":`${r}.offset`,i=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){this.headers.Accept="application/vnd.pgrst.object+json";const e=new nn(this);return e.then=(e,t)=>this.then((t=>{var r;return(null===(r=t.error)||void 0===r?void 0:r.details.includes("Results contain 0 rows"))?e({error:null,data:null,count:t.count,status:200,statusText:"OK",body:null}):e(t)}),t),e}csv(){return this.headers.Accept="text/csv",this}}class sn extends nn{constructor(){super(...arguments),this.cs=this.contains,this.cd=this.containedBy,this.sl=this.rangeLt,this.sr=this.rangeGt,this.nxl=this.rangeGte,this.nxr=this.rangeLte,this.adj=this.rangeAdjacent,this.ov=this.overlaps}not(e,t,r){return this.url.searchParams.append(`${e}`,`not.${t}.${r}`),this}or(e,{foreignTable:t}={}){const r=void 0===t?"or":`${t}.or`;return this.url.searchParams.append(r,`(${e})`),this}eq(e,t){return this.url.searchParams.append(`${e}`,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(`${e}`,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(`${e}`,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(`${e}`,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(`${e}`,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(`${e}`,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(`${e}`,`like.${t}`),this}ilike(e,t){return this.url.searchParams.append(`${e}`,`ilike.${t}`),this}is(e,t){return this.url.searchParams.append(`${e}`,`is.${t}`),this}in(e,t){const r=t.map((e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(`${e}`,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(`${e}`,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cs.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(`${e}`,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cd.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cd.${JSON.stringify(t)}`),this}rangeLt(e,t){return this.url.searchParams.append(`${e}`,`sl.${t}`),this}rangeGt(e,t){return this.url.searchParams.append(`${e}`,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(`${e}`,`nxl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(`${e}`,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(`${e}`,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(`${e}`,`ov.${t}`):this.url.searchParams.append(`${e}`,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n=null}={}){let i="";"plain"===n?i="pl":"phrase"===n?i="ph":"websearch"===n&&(i="w");const s=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`${i}fts${s}.${t}`),this}fts(e,t,{config:r}={}){const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`fts${n}.${t}`),this}plfts(e,t,{config:r}={}){const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`plfts${n}.${t}`),this}phfts(e,t,{config:r}={}){const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`phfts${n}.${t}`),this}wfts(e,t,{config:r}={}){const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`wfts${n}.${t}`),this}filter(e,t,r){return this.url.searchParams.append(`${e}`,`${t}.${r}`),this}match(e){return Object.keys(e).forEach((t=>{this.url.searchParams.append(`${t}`,`eq.${e[t]}`)})),this}}class on extends rn{constructor(e,{headers:t={},schema:r}={}){super({}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}select(e="*",{head:t=!1,count:r=null}={}){this.method="GET";let n=!1;const i=e.split("").map((e=>/\s/.test(e)&&!n?"":('"'===e&&(n=!n),e))).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),t&&(this.method="HEAD"),new sn(this)}insert(e,{upsert:t=!1,onConflict:r,returning:n="representation",count:i=null}={}){this.method="POST";const s=[`return=${n}`];if(t&&s.push("resolution=merge-duplicates"),t&&void 0!==r&&this.url.searchParams.set("on_conflict",r),this.body=e,i&&s.push(`count=${i}`),this.headers.Prefer=s.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)];this.url.searchParams.set("columns",e.join(","))}}return new sn(this)}upsert(e,{onConflict:t,returning:r="representation",count:n=null,ignoreDuplicates:i=!1}={}){this.method="POST";const s=[`resolution=${i?"ignore":"merge"}-duplicates`,`return=${r}`];return void 0!==t&&this.url.searchParams.set("on_conflict",t),this.body=e,n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new sn(this)}update(e,{returning:t="representation",count:r=null}={}){this.method="PATCH";const n=[`return=${t}`];return this.body=e,r&&n.push(`count=${r}`),this.headers.Prefer=n.join(","),new sn(this)}delete({returning:e="representation",count:t=null}={}){this.method="DELETE";const r=[`return=${e}`];return t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new sn(this)}}class an extends rn{constructor(e,{headers:t={},schema:r}={}){super({}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}rpc(e,{count:t=null}={}){return this.method="POST",this.body=e,t&&(void 0!==this.headers.Prefer?this.headers.Prefer+=`,count=${t}`:this.headers.Prefer=`count=${t}`),new sn(this)}}class ln{constructor(e,{headers:t={},schema:r}={}){this.url=e,this.headers=t,this.schema=r}auth(e){return this.headers.Authorization=`Bearer ${e}`,this}from(e){const t=`${this.url}/${e}`;return new on(t,{headers:this.headers,schema:this.schema})}rpc(e,t,{count:r=null}={}){const n=`${this.url}/rpc/${e}`;return new an(n,{headers:this.headers,schema:this.schema}).rpc(t,{count:r})}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(en||(en={}));const cn=(e,t,r={})=>{let n={},i=void 0!==r.skipTypes?r.skipTypes:[];return Object.entries(t).map((([r,s])=>{n[r]=un(r,e,t,i)})),n},un=(e,t,r,n)=>{let i=t.find((t=>t.name==e));return!i||n.includes(i.type)?dn(r[e]):hn(i.type,r[e])},hn=(e,t)=>{try{if(null===t)return null;if("_"===e.charAt(0)){let r=e.slice(1,e.length);return bn(t,r)}switch(e){case en.abstime:return dn(t);case en.bool:return pn(t);case en.date:return dn(t);case en.daterange:return fn(t);case en.float4:case en.float8:return mn(t);case en.int2:case en.int4:return gn(t);case en.int4range:return yn(t);case en.int8:return gn(t);case en.int8range:return yn(t);case en.json:case en.jsonb:return vn(t);case en.money:case en.numeric:return mn(t);case en.oid:return gn(t);case en.reltime:case en.time:return dn(t);case en.timestamp:return _n(t);case en.timestamptz:case en.timetz:return dn(t);case en.tsrange:case en.tstzrange:return fn(t);default:return dn(t)}}catch(r){return console.log(`Could not convert cell of type ${e} and value ${t}`),console.log(`This is the error: ${r}`),t}},dn=e=>e,pn=e=>{switch(e){case"t":return!0;case"f":return!1;default:return null}},fn=e=>{let t=JSON.parse(e);return[new Date(t[0]),new Date(t[1])]},mn=e=>parseFloat(e),gn=e=>parseInt(e),yn=e=>{let t=JSON.parse(e);return[parseInt(t[0]),parseInt(t[1])]},vn=e=>JSON.parse(e),bn=(e,t)=>{let r=e.slice(1,e.length-1);return(r.length>0?r.split(","):[]).map((e=>hn(t,e)))},_n=e=>e.replace(" ","T");var wn,En,$n,Tn;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(wn||(wn={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(En||(En={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave"}($n||($n={})),function(e){e.websocket="websocket"}(Tn||(Tn={}));class Sn{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}class xn{constructor(e,t,r={},n=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout))}trigger(e,t){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel.off(this.refEvent)}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter((t=>t.status===e)).forEach((e=>e.callback(t)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class On{constructor(e,t={},r){this.topic=e,this.params=t,this.socket=r,this.bindings=[],this.state=En.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new xn(this,$n.join,this.params,this.timeout),this.rejoinTimer=new Sn((()=>this.rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=En.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this.onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=En.closed,this.socket.remove(this)})),this.onError((e=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=En.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this.isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=En.errored,this.rejoinTimer.scheduleTimeout())})),this.on($n.reply,((e,t)=>{this.trigger(this.replyEventName(t),e)}))}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}onClose(e){this.on($n.close,e)}onError(e){this.on($n.error,(t=>e(t)))}on(e,t){this.bindings.push({event:e,callback:t})}off(e){this.bindings=this.bindings.filter((t=>t.event!==e))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new xn(this,e,t,r);return this.canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}unsubscribe(e=this.timeout){this.state=En.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger($n.close,"leave",this.joinRef())};this.joinPush.destroy();let r=new xn(this,$n.leave,{},e);return r.receive("ok",(()=>t())).receive("timeout",(()=>t())),r.send(),this.canPush()||r.trigger("ok",{}),r}onMessage(e,t,r){return t}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}sendJoin(e){this.state=En.joining,this.joinPush.resend(e)}rejoin(e=this.timeout){this.isLeaving()||this.sendJoin(e)}trigger(e,t,r){let{close:n,error:i,leave:s,join:o}=$n;if(r&&[n,i,s,o].indexOf(e)>=0&&r!==this.joinRef())return;let a=this.onMessage(e,t,r);if(t&&!a)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter((r=>"*"===r.event?e===(null==t?void 0:t.type):r.event===e)).map((e=>e.callback(a,r)))}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===En.closed}isErrored(){return this.state===En.errored}isJoined(){return this.state===En.joined}isJoining(){return this.state===En.joining}isLeaving(){return this.state===En.leaving}}var Pn,An=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")},kn=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return An()}try{return __global__||An()}finally{delete Object.prototype.__global__}}(),In="1.0.34";if("object"==typeof globalThis)Pn=globalThis;else try{Pn=kn}catch(e){}finally{if(Pn||"undefined"==typeof window||(Pn=window),!Pn)throw new Error("Could not determine global this")}var Rn=Pn.WebSocket||Pn.MozWebSocket,Cn=In;function Un(e,t){return t?new Rn(e,t):new Rn(e)}Rn&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(Un,e,{get:function(){return Rn[e]}})}));var jn={w3cwebsocket:Rn?Un:null,version:Cn};class Ln{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),i=t.getUint8(2);let s=this.HEADER_LENGTH+2;const o=r.decode(e.slice(s,s+n));s+=n;const a=r.decode(e.slice(s,s+i));s+=i;return{ref:null,topic:o,event:a,payload:JSON.parse(r.decode(e.slice(s,e.byteLength)))}}}var Nn=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};const Dn=()=>{};class Mn{constructor(e,t){this.channels=[],this.endPoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=jn.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Dn,this.conn=null,this.sendBuffer=[],this.serializer=new Ln,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint=`${e}/${Tn.websocket}`,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=t.headers),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.transport)&&(this.transport=t.transport),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs),(null==t?void 0:t.longpollerTimeout)&&(this.longpollerTimeout=t.longpollerTimeout),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Sn((()=>Nn(this,void 0,void 0,(function*(){yield this.disconnect(),this.connect()}))),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){return new Promise(((r,n)=>{try{this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t||""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset()),r({error:null,data:!0})}catch(e){r({error:e,data:!1})}}))}log(e,t,r){this.logger(e,t,r)}onOpen(e){this.stateChangeCallbacks.open.push(e)}onClose(e){this.stateChangeCallbacks.close.push(e)}onError(e){this.stateChangeCallbacks.error.push(e)}onMessage(e){this.stateChangeCallbacks.message.push(e)}connectionState(){switch(this.conn&&this.conn.readyState){case wn.connecting:return"connecting";case wn.open:return"open";case wn.closing:return"closing";default:return"closed"}}isConnected(){return"open"===this.connectionState()}remove(e){this.channels=this.channels.filter((t=>t.joinRef()!==e.joinRef()))}channel(e,t={}){let r=new On(e,t,this);return this.channels.push(r),r}push(e){let{topic:t,event:r,payload:n,ref:i}=e,s=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${r} (${i})`,n),this.isConnected()?s():this.sendBuffer.push(s)}onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:r,payload:n,ref:i}=e;i&&i===this.pendingHeartbeatRef?this.pendingHeartbeatRef=null:r===(null==n?void 0:n.type)&&this._resetHeartbeat(),this.log("receive",`${n.status||""} ${t} ${r} ${i&&"("+i+")"||""}`,n),this.channels.filter((e=>e.isMember(t))).forEach((e=>e.trigger(r,n,i))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_onConnOpen(){this.log("transport",`connected to ${this.endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this._resetHeartbeat(),this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e.trigger($n.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_resetHeartbeat(){this.pendingHeartbeatRef=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this._sendHeartbeat()),this.heartbeatIntervalMs)}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef})}}}class Gn{constructor(e,t,r){const n="*"===r?`realtime:${t}`:`realtime:${t}:${r}`;this.subscription=e.channel(n)}getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=cn(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=cn(e.columns,e.old_record)),t}on(e,t){return this.subscription.on(e,(e=>{let r={schema:e.schema,table:e.table,commit_timestamp:e.commit_timestamp,eventType:e.type,new:{},old:{}};r=Object.assign(Object.assign({},r),this.getPayloadRecords(e)),t(r)})),this}subscribe(e=(()=>{})){return this.subscription.onError((t=>e("SUBSCRIPTION_ERROR",t))),this.subscription.onClose((()=>e("CLOSED"))),this.subscription.subscribe().receive("ok",(()=>e("SUBSCRIBED"))).receive("error",(t=>e("SUBSCRIPTION_ERROR",t))).receive("timeout",(()=>e("RETRYING_AFTER_TIMEOUT"))),this.subscription}}class Fn extends on{constructor(e,{headers:t={},schema:r,realtime:n,table:i}){super(e,{headers:t,schema:r}),this._subscription=new Gn(n,r,i),this._realtime=n}on(e,t){return this._realtime.isConnected()||this._realtime.connect(),this._subscription.on(e,t)}}var Bn=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};const zn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e);function Hn(e,t,r,n,i){return Bn(this,void 0,void 0,(function*(){return new Promise(((s,o)=>{jr(t,((e,t,r,n)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))})(e,r,n,i)).then((e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?s(e):e.json()})).then((e=>s(e))).catch((e=>((e,t)=>{if("function"!=typeof e.json)return t(e);e.json().then((r=>t({message:zn(r),status:(null==e?void 0:e.status)||500})))})(e,o)))}))}))}function Vn(e,t,r){return Bn(this,void 0,void 0,(function*(){return Hn("GET",e,t,r)}))}function Xn(e,t,r,n){return Bn(this,void 0,void 0,(function*(){return Hn("POST",e,r,n,t)}))}function qn(e,t,r,n){return Bn(this,void 0,void 0,(function*(){return Hn("DELETE",e,r,n,t)}))}var Wn=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};var Jn=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};const Kn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Yn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zn{constructor(e,t={},r){this.url=e,this.headers=t,this.bucketId=r}uploadOrUpdate(e,t,r,n){return Jn(this,void 0,void 0,(function*(){try{let i;const s=Object.assign(Object.assign({},Yn),n),o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),i.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl)):(i=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType);const a=this._getFinalPath(t),l=yield jr(`${this.url}/object/${a}`,{method:e,body:i,headers:o});if(l.ok)return{data:{Key:a},error:null};return{data:null,error:yield l.json()}}catch(e){return{data:null,error:e}}}))}upload(e,t,r){return Jn(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,r)}))}update(e,t,r){return Jn(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,r)}))}move(e,t){return Jn(this,void 0,void 0,(function*(){try{return{data:yield Xn(`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}createSignedUrl(e,t){return Jn(this,void 0,void 0,(function*(){try{const r=this._getFinalPath(e);let n=yield Xn(`${this.url}/object/sign/${r}`,{expiresIn:t},{headers:this.headers});const i=`${this.url}${n.signedURL}`;return n={signedURL:i},{data:n,error:null,signedURL:i}}catch(e){return{data:null,error:e,signedURL:null}}}))}download(e){return Jn(this,void 0,void 0,(function*(){try{const t=this._getFinalPath(e),r=yield Vn(`${this.url}/object/${t}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(e){return{data:null,error:e}}}))}getPublicUrl(e){try{const t=this._getFinalPath(e),r=`${this.url}/object/public/${t}`;return{data:{publicURL:r},error:null,publicURL:r}}catch(e){return{data:null,error:e,publicURL:null}}}remove(e){return Jn(this,void 0,void 0,(function*(){try{return{data:yield qn(`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}list(e,t,r){return Jn(this,void 0,void 0,(function*(){try{const n=Object.assign(Object.assign(Object.assign({},Kn),t),{prefix:e||""});return{data:yield Xn(`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(e){return{data:null,error:e}}}))}_getFinalPath(e){return`${this.bucketId}/${e}`}}class Qn extends class{constructor(e,t={}){this.url=e,this.headers=t}listBuckets(){return Wn(this,void 0,void 0,(function*(){try{return{data:yield Vn(`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}getBucket(e){return Wn(this,void 0,void 0,(function*(){try{return{data:yield Vn(`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}createBucket(e,t={public:!1}){return Wn(this,void 0,void 0,(function*(){try{return{data:(yield Xn(`${this.url}/bucket`,{id:e,name:e,public:t.public},{headers:this.headers})).name,error:null}}catch(e){return{data:null,error:e}}}))}updateBucket(e,t){return Wn(this,void 0,void 0,(function*(){try{return{data:yield function(e,t,r,n){return Bn(this,void 0,void 0,(function*(){return Hn("PUT",e,r,n,t)}))}(`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}emptyBucket(e){return Wn(this,void 0,void 0,(function*(){try{return{data:yield Xn(`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}deleteBucket(e){return Wn(this,void 0,void 0,(function*(){try{return{data:yield qn(`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}}{constructor(e,t={}){super(e,t)}from(e){return new Zn(this.url,this.headers,e)}}var ei=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};const ti={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,localStorage:globalThis.localStorage,headers:{}};class ri{constructor(e,t,r){if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const n=Object.assign(Object.assign({},ti),r);this.restUrl=`${e}/rest/v1`,this.realtimeUrl=`${e}/realtime/v1`.replace("http","ws"),this.authUrl=`${e}/auth/v1`,this.storageUrl=`${e}/storage/v1`,this.schema=n.schema,this.auth=this._initSupabaseAuthClient(n),this.realtime=this._initRealtimeClient(n.realtime)}get storage(){return new Qn(this.storageUrl,this._getAuthHeaders())}from(e){const t=`${this.restUrl}/${e}`;return new Fn(t,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e})}rpc(e,t){return this._initPostgRESTClient().rpc(e,t)}removeSubscription(e){return new Promise((t=>ei(this,void 0,void 0,(function*(){try{yield this._closeSubscription(e);const r=this.getSubscriptions().length;if(!r){const{error:e}=yield this.realtime.disconnect();if(e)return t({error:e})}return t({error:null,data:{openSubscriptions:r}})}catch(e){return t({error:e})}}))))}_closeSubscription(e){return ei(this,void 0,void 0,(function*(){e.isClosed()||(yield this._closeChannel(e))}))}getSubscriptions(){return this.realtime.channels}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:n}){return new Qr({url:this.authUrl,headers:{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`},autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:n})}_initRealtimeClient(e){return new Mn(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},null==e?void 0:e.params),{apikey:this.supabaseKey})}))}_initPostgRESTClient(){return new ln(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema})}_getAuthHeaders(){var e,t;const r={},n=null!==(t=null===(e=this.auth.session())||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey;return r.apikey=this.supabaseKey,r.Authorization=`Bearer ${n}`,r}_closeChannel(e){return new Promise(((t,r)=>{e.unsubscribe().receive("ok",(()=>(this.realtime.remove(e),t(!0)))).receive("error",(e=>r(e)))}))}}const ni=new ri("https://cozkkbhymspgkqaxkdhk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYyNzA1MzA5NywiZXhwIjoxOTQyNjI5MDk3fQ.rTcCcyATKsuDhvK-9yD19o7Wjcbn6ZQFK3-ggHCuB4I",ii);var ii;function si(e){let r,n,i;const s=[e[2]];var o=e[0];function a(e){let r={};for(let e=0;e<s.length;e+=1)r=t(r,s[e]);return{props:r}}return o&&(r=new o(a()),r.$on("routeEvent",e[7])),{c(){r&&se(r.$$.fragment),n=$()},m(e,t){r&&oe(r,e,t),y(e,n,t),i=!0},p(e,t){const i=4&t?ne(s,[ie(e[2])]):{};if(o!==(o=e[0])){if(r){Q();const e=r;re(e.$$.fragment,1,0,(()=>{ae(e,1)})),ee()}o?(r=new o(a()),r.$on("routeEvent",e[7]),se(r.$$.fragment),te(r.$$.fragment,1),oe(r,n.parentNode,n)):r=null}else o&&r.$set(i)},i(e){i||(r&&te(r.$$.fragment,e),i=!0)},o(e){r&&re(r.$$.fragment,e),i=!1},d(e){e&&v(n),r&&ae(r,e)}}}function oi(e){let r,n,i;const s=[{params:e[1]},e[2]];var o=e[0];function a(e){let r={};for(let e=0;e<s.length;e+=1)r=t(r,s[e]);return{props:r}}return o&&(r=new o(a()),r.$on("routeEvent",e[6])),{c(){r&&se(r.$$.fragment),n=$()},m(e,t){r&&oe(r,e,t),y(e,n,t),i=!0},p(e,t){const i=6&t?ne(s,[2&t&&{params:e[1]},4&t&&ie(e[2])]):{};if(o!==(o=e[0])){if(r){Q();const e=r;re(e.$$.fragment,1,0,(()=>{ae(e,1)})),ee()}o?(r=new o(a()),r.$on("routeEvent",e[6]),se(r.$$.fragment),te(r.$$.fragment,1),oe(r,n.parentNode,n)):r=null}else o&&r.$set(i)},i(e){i||(r&&te(r.$$.fragment,e),i=!0)},o(e){r&&re(r.$$.fragment,e),i=!1},d(e){e&&v(n),r&&ae(r,e)}}}function ai(e){let t,r,n,i;const s=[oi,si],o=[];function a(e,t){return e[1]?0:1}return t=a(e),r=o[t]=s[t](e),{c(){r.c(),n=$()},m(e,r){o[t].m(e,r),y(e,n,r),i=!0},p(e,[i]){let l=t;t=a(e),t===l?o[t].p(e,i):(Q(),re(o[l],1,1,(()=>{o[l]=null})),ee(),r=o[t],r?r.p(e,i):(r=o[t]=s[t](e),r.c()),te(r,1),r.m(n.parentNode,n))},i(e){i||(te(r),i=!0)},o(e){re(r),i=!1},d(e){o[t].d(e),e&&v(n)}}}function li(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const r=t.indexOf("?");let n="";return r>-1&&(n=t.substr(r+1),t=t.substr(0,r)),{location:t,querystring:n}}const ci=he(null,(function(e){e(li());const t=()=>{e(li())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}));pe(ci,(e=>e.location)),pe(ci,(e=>e.querystring));const ui=de(void 0);async function hi(e){if(!e||e.length<1||"/"!=e.charAt(0)&&0!==e.indexOf("#/"))throw Error("Invalid parameter location");await V(),history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0,void 0),window.location.hash=("#"==e.charAt(0)?"":"#")+e}async function di(e){if(!e||e.length<1||"/"!=e.charAt(0)&&0!==e.indexOf("#/"))throw Error("Invalid parameter location");await V();const t=("#"==e.charAt(0)?"":"#")+e;try{const e={...history.state};delete e.__svelte_spa_router_scrollX,delete e.__svelte_spa_router_scrollY,window.history.replaceState(e,void 0,t)}catch(e){console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function pi(e,t,r){let{routes:n={}}=t,{prefix:i=""}=t,{restoreScrollState:s=!1}=t;class o{constructor(e,t){if(!t||"function"!=typeof t&&("object"!=typeof t||!0!==t._sveltesparouter))throw Error("Invalid component object");if(!e||"string"==typeof e&&(e.length<1||"/"!=e.charAt(0)&&"*"!=e.charAt(0))||"object"==typeof e&&!(e instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:r,keys:n}=function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,i,s,o=[],a="",l=e.split("/");for(l[0]||l.shift();i=l.shift();)"*"===(r=i[0])?(o.push("wild"),a+="/(.*)"):":"===r?(n=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~n?n:~s?s:i.length)),a+=~n&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~n?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}(e);this.path=e,"object"==typeof t&&!0===t._sveltesparouter?(this.component=t.component,this.conditions=t.conditions||[],this.userData=t.userData,this.props=t.props||{}):(this.component=()=>Promise.resolve(t),this.conditions=[],this.props={}),this._pattern=r,this._keys=n}match(e){if(i)if("string"==typeof i){if(!e.startsWith(i))return null;e=e.substr(i.length)||"/"}else if(i instanceof RegExp){const t=e.match(i);if(!t||!t[0])return null;e=e.substr(t[0].length)||"/"}const t=this._pattern.exec(e);if(null===t)return null;if(!1===this._keys)return t;const r={};let n=0;for(;n<this._keys.length;){try{r[this._keys[n]]=decodeURIComponent(t[n+1]||"")||null}catch(e){r[this._keys[n]]=null}n++}return r}async checkConditions(e){for(let t=0;t<this.conditions.length;t++)if(!await this.conditions[t](e))return!1;return!0}}const a=[];n instanceof Map?n.forEach(((e,t)=>{a.push(new o(t,e))})):Object.keys(n).forEach((e=>{a.push(new o(e,n[e]))}));let l=null,c=null,u={};const h=L();async function d(e,t){await V(),h(e,t)}let p=null,f=null;var m;s&&(f=e=>{p=e.state&&e.state.__svelte_spa_router_scrollY?e.state:null},window.addEventListener("popstate",f),m=()=>{p?window.scrollTo(p.__svelte_spa_router_scrollX,p.__svelte_spa_router_scrollY):window.scrollTo(0,0)},U().$$.after_update.push(m));let g=null,y=null;const v=ci.subscribe((async e=>{g=e;let t=0;for(;t<a.length;){const n=a[t].match(e.location);if(!n){t++;continue}const i={route:a[t].path,location:e.location,querystring:e.querystring,userData:a[t].userData,params:n&&"object"==typeof n&&Object.keys(n).length?n:null};if(!await a[t].checkConditions(i))return r(0,l=null),y=null,void d("conditionsFailed",i);d("routeLoading",Object.assign({},i));const s=a[t].component;if(y!=s){s.loading?(r(0,l=s.loading),y=s,r(1,c=s.loadingParams),r(2,u={}),d("routeLoaded",Object.assign({},i,{component:l,name:l.name,params:c}))):(r(0,l=null),y=null);const t=await s();if(e!=g)return;r(0,l=t&&t.default||t),y=s}return n&&"object"==typeof n&&Object.keys(n).length?r(1,c=n):r(1,c=null),r(2,u=a[t].props),void d("routeLoaded",Object.assign({},i,{component:l,name:l.name,params:c})).then((()=>{ui.set(c)}))}r(0,l=null),y=null,ui.set(void 0)}));return function(e){U().$$.on_destroy.push(e)}((()=>{v(),f&&window.removeEventListener("popstate",f)})),e.$$set=e=>{"routes"in e&&r(3,n=e.routes),"prefix"in e&&r(4,i=e.prefix),"restoreScrollState"in e&&r(5,s=e.restoreScrollState)},e.$$.update=()=>{32&e.$$.dirty&&(history.scrollRestoration=s?"manual":"auto")},[l,c,u,n,i,s,function(t){N.call(this,e,t)},function(t){N.call(this,e,t)}]}class fi extends ce{constructor(e){super(),le(this,e,pi,ai,o,{routes:3,prefix:4,restoreScrollState:5})}}function mi(e){let t,r,n,i,s;const o=e[8].default,a=c(o,e,e[7],null);return{c(){t=b("button"),a&&a.c(),x(t,"class",r=m(e[6].class)+" svelte-rfjzfx"),x(t,"type",e[2]),x(t,"style",e[3]),t.disabled=e[4],I(t,"primary",e[0]),I(t,"secondary",e[1])},m(r,o){y(r,t,o),a&&a.m(t,null),n=!0,i||(s=T(t,"click",S(e[5])),i=!0)},p(e,[i]){a&&a.p&&(!n||128&i)&&d(a,o,e,e[7],n?h(o,e[7],i,null):p(e[7]),null),(!n||64&i&&r!==(r=m(e[6].class)+" svelte-rfjzfx"))&&x(t,"class",r),(!n||4&i)&&x(t,"type",e[2]),(!n||8&i)&&x(t,"style",e[3]),(!n||16&i)&&(t.disabled=e[4]),65&i&&I(t,"primary",e[0]),66&i&&I(t,"secondary",e[1])},i(e){n||(te(a,e),n=!0)},o(e){re(a,e),n=!1},d(e){e&&v(t),a&&a.d(e),i=!1,s()}}}function gi(e,r,n){let{$$slots:i={},$$scope:s}=r,{primary:o=!1}=r,{secondary:a=!1}=r,{type:l}=r,{style:c=""}=r,{disabled:u=!1}=r;const h=L();return e.$$set=e=>{n(6,r=t(t({},r),f(e))),"primary"in e&&n(0,o=e.primary),"secondary"in e&&n(1,a=e.secondary),"type"in e&&n(2,l=e.type),"style"in e&&n(3,c=e.style),"disabled"in e&&n(4,u=e.disabled),"$$scope"in e&&n(7,s=e.$$scope)},r=f(r),[o,a,l,c,u,function(){h("click")},r,s,i]}class yi extends ce{constructor(e){super(),le(this,e,gi,mi,o,{primary:0,secondary:1,type:2,style:3,disabled:4})}}function vi(e){let t,r=e[1]("login")+"";return{c(){t=w(r)},m(e,r){y(e,t,r)},p(e,n){2&n&&r!==(r=e[1]("login")+"")&&P(t,r)},d(e){e&&v(t)}}}function bi(e){let t,r=e[1]("sign_out")+"";return{c(){t=w(r)},m(e,r){y(e,t,r)},p(e,n){2&n&&r!==(r=e[1]("sign_out")+"")&&P(t,r)},d(e){e&&v(t)}}}function _i(e){let t;function r(e,t){return e[0]?bi:vi}let n=r(e),i=n(e);return{c(){i.c(),t=$()},m(e,r){i.m(e,r),y(e,t,r)},p(e,s){n===(n=r(e))&&i?i.p(e,s):(i.d(1),i=n(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&v(t)}}}function wi(e){let t;return{c(){t=w("Toggle Theme")},m(e,r){y(e,t,r)},d(e){e&&v(t)}}}function Ei(e){let t,r,n,i,s,o,a,l,c=e[1]("Intro.welcome")+"";return s=new yi({props:{$$slots:{default:[_i]},$$scope:{ctx:e}}}),s.$on("click",e[2]),a=new yi({props:{$$slots:{default:[wi]},$$scope:{ctx:e}}}),a.$on("click",$i),{c(){t=b("main"),r=b("p"),n=w(c),i=E(),se(s.$$.fragment),o=E(),se(a.$$.fragment),x(t,"class","svelte-19t4l8x")},m(e,c){y(e,t,c),g(t,r),g(r,n),g(t,i),oe(s,t,null),g(t,o),oe(a,t,null),l=!0},p(e,[t]){(!l||2&t)&&c!==(c=e[1]("Intro.welcome")+"")&&P(n,c);const r={};11&t&&(r.$$scope={dirty:t,ctx:e}),s.$set(r);const i={};8&t&&(i.$$scope={dirty:t,ctx:e}),a.$set(i)},i(e){l||(te(s.$$.fragment,e),te(a.$$.fragment,e),l=!0)},o(e){re(s.$$.fragment,e),re(a.$$.fragment,e),l=!1},d(e){e&&v(t),ae(s),ae(a)}}}function $i(){window.document.body.classList.toggle("dark-mode")}function Ti(e,t,r){let n,i;l(e,Cr,(e=>r(0,n=e))),l(e,Ir,(e=>r(1,i=e)));return[n,i,()=>Ie(void 0,void 0,void 0,(function*(){if(n)return yield ni.auth.signOut(),void(yield di("/"));yield hi("/sign_in")}))]}class Si extends ce{constructor(e){super(),le(this,e,Ti,Ei,o,{})}}function xi(t){let r,n,o,a,l,c,u,h,d,p,f,m,_,$,O,P,k,I,R,C,U,j,L,N,D,M;return{c(){r=b("form"),n=b("div"),o=b("label"),o.textContent="Email",a=E(),l=b("input"),u=E(),h=b("div"),d=b("label"),d.textContent="Name",p=E(),f=b("input"),m=E(),_=b("div"),$=b("label"),$.textContent="Website",O=E(),P=b("input"),k=E(),I=b("div"),R=b("input"),U=E(),j=b("div"),L=b("button"),N=w("Sign Out"),x(o,"for","email"),x(l,"id","email"),x(l,"type","text"),l.value=c=t[3]?.email,l.disabled=!0,x(d,"for","username"),x(f,"id","username"),x(f,"type","text"),x($,"for","website"),x(P,"id","website"),x(P,"type","website"),x(R,"type","submit"),x(R,"class","button block primary"),R.value=C=t[0]?"Loading ...":"Update",R.disabled=t[0],x(L,"class","button block"),L.disabled=t[0],x(r,"class","form-widget")},m(i,c){var v;y(i,r,c),g(r,n),g(n,o),g(n,a),g(n,l),g(r,u),g(r,h),g(h,d),g(h,p),g(h,f),A(f,t[1]),g(r,m),g(r,_),g(_,$),g(_,O),g(_,P),A(P,t[2]),g(r,k),g(r,I),g(I,R),g(r,U),g(r,j),g(j,L),g(L,N),D||(M=[T(f,"input",t[7]),T(P,"input",t[8]),T(L,"click",t[6]),(v=t[4].call(null,r),v&&s(v.destroy)?v.destroy:e),T(r,"submit",S(t[5]))],D=!0)},p(e,[t]){8&t&&c!==(c=e[3]?.email)&&l.value!==c&&(l.value=c),2&t&&f.value!==e[1]&&A(f,e[1]),4&t&&A(P,e[2]),1&t&&C!==(C=e[0]?"Loading ...":"Update")&&(R.value=C),1&t&&(R.disabled=e[0]),1&t&&(L.disabled=e[0])},i:e,o:e,d(e){e&&v(r),D=!1,i(M)}}}function Oi(e,t,r){let n;l(e,Cr,(e=>r(3,n=e)));let i,s,o,a=!0;return[a,i,s,n,function(e){return Ie(this,void 0,void 0,(function*(){try{r(0,a=!0);const e=ni.auth.user();let{data:t,error:n,status:l}=yield ni.from("profiles").select("username, website, avatar_url").eq("id",null==e?void 0:e.id).single();if(n&&406!==l)throw n;return t&&(r(1,i=t.username),r(2,s=t.website),o=t.avatar_url),{destroy(){}}}catch(e){alert(e.message)}finally{r(0,a=!1)}}))},function(){return Ie(this,void 0,void 0,(function*(){try{r(0,a=!0);const e=ni.auth.user(),t={id:null==e?void 0:e.id,username:i,website:s,avatar_url:o,updated_at:new Date};let{error:n}=yield ni.from("profiles").upsert(t,{returning:"minimal"});if(n)throw n}catch(e){alert(e.message)}finally{r(0,a=!1)}}))},function(){return Ie(this,void 0,void 0,(function*(){try{r(0,a=!0);let{error:e}=yield ni.auth.signOut();if(e)throw e}catch(e){alert(e.message)}finally{r(0,a=!1)}}))},function(){i=this.value,r(1,i)},function(){s=this.value,r(2,s)}]}class Pi extends ce{constructor(e){super(),le(this,e,Oi,xi,o,{})}}function Ai(r){let n,i,s,o=[{width:"24"},{height:"24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},r[0]],a={};for(let e=0;e<o.length;e+=1)a=t(a,o[e]);return{c(){n=_("svg"),i=_("circle"),s=_("path"),x(i,"cx","12"),x(i,"cy","12"),x(i,"r","11.5"),x(i,"stroke","#D0D1D3"),x(s,"d","m17 9-6.875 7L7 12.818"),x(s,"stroke","#D0D1D3"),x(s,"stroke-width","2"),x(s,"stroke-linecap","round"),x(s,"stroke-linejoin","round"),O(n,a)},m(e,t){y(e,n,t),g(n,i),g(n,s)},p(e,[t]){O(n,a=ne(o,[{width:"24"},{height:"24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},1&t&&e[0]]))},i:e,o:e,d(e){e&&v(n)}}}function ki(e,r,n){return e.$$set=e=>{n(0,r=t(t({},r),f(e)))},[r=f(r)]}function Ii(r){let n,i,s=[{width:"25"},{height:"24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},r[0]],o={};for(let e=0;e<s.length;e+=1)o=t(o,s[e]);return{c(){n=_("svg"),i=_("path"),x(i,"d","M16.018 7.5 19.572 4m2.03-2-2.03 2 2.03-2zm-9.758 9.61c.525.51.941 1.116 1.227 1.785a5.428 5.428 0 0 1 .014 4.226c-.28.67-.693 1.28-1.214 1.793-.521.513-1.14.92-1.82 1.196a5.659 5.659 0 0 1-4.293-.014 5.592 5.592 0 0 1-1.812-1.208 5.456 5.456 0 0 1-1.567-3.869 5.458 5.458 0 0 1 1.635-3.841 5.628 5.628 0 0 1 3.9-1.61 5.631 5.631 0 0 1 3.93 1.543v-.001zm0 0 4.174-4.11-4.174 4.11zm4.174-4.11 3.046 3L22.618 7l-3.046-3-3.554 3.5z"),x(i,"stroke","#D0D1D3"),x(i,"stroke-width","2"),x(i,"stroke-linecap","round"),x(i,"stroke-linejoin","round"),O(n,o)},m(e,t){y(e,n,t),g(n,i)},p(e,[t]){O(n,o=ne(s,[{width:"25"},{height:"24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},1&t&&e[0]]))},i:e,o:e,d(e){e&&v(n)}}}function Ri(e,r,n){return e.$$set=e=>{n(0,r=t(t({},r),f(e)))},[r=f(r)]}function Ci(r){let n,i,s,o,a,l,c,u,h,d,p,f,m,b,w,E=[{width:"50"},{height:"50"},{viewBox:"0 0 49 49"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},r[0]],$={};for(let e=0;e<E.length;e+=1)$=t($,E[e]);return{c(){n=_("svg"),i=_("ellipse"),s=_("ellipse"),o=_("ellipse"),a=_("defs"),l=_("linearGradient"),c=_("stop"),u=_("stop"),h=_("linearGradient"),d=_("stop"),p=_("stop"),f=_("linearGradient"),m=_("stop"),b=_("stop"),w=_("stop"),x(i,"cx","24.694"),x(i,"cy","34.944"),x(i,"rx","23.333"),x(i,"ry","14.056"),x(i,"fill","url(#a)"),x(s,"cx","24.694"),x(s,"cy","25.367"),x(s,"rx","23.333"),x(s,"ry","14.056"),x(s,"fill","url(#b)"),x(o,"cx","24.694"),x(o,"cy","14.056"),x(o,"rx","23.333"),x(o,"ry","14.056"),x(o,"fill","url(#c)"),x(c,"stop-color","#7EE2D3"),x(u,"offset","1"),x(u,"stop-color","#EAF2FA"),x(u,"stop-opacity",".12"),x(l,"id","a"),x(l,"x1","14.293"),x(l,"y1","54.8"),x(l,"x2",".18"),x(l,"y2","28.48"),x(l,"gradientUnits","userSpaceOnUse"),x(d,"stop-color","#EAF2FA"),x(d,"stop-opacity",".77"),x(p,"offset","1"),x(p,"stop-color","#7EE2D3"),x(h,"id","b"),x(h,"x1","6.14"),x(h,"y1","34.709"),x(h,"x2","46.014"),x(h,"y2","33.266"),x(h,"gradientUnits","userSpaceOnUse"),x(m,"stop-color","#EAF2FA"),x(b,"offset",".635"),x(b,"stop-color","#EAF2FA"),x(b,"stop-opacity",".6"),x(w,"offset",".995"),x(w,"stop-color","#EAF2FA"),x(w,"stop-opacity",".22"),x(f,"id","c"),x(f,"x1","14.012"),x(f,"y1","0"),x(f,"x2","51.742"),x(f,"y2","5.799"),x(f,"gradientUnits","userSpaceOnUse"),O(n,$)},m(e,t){y(e,n,t),g(n,i),g(n,s),g(n,o),g(n,a),g(a,l),g(l,c),g(l,u),g(a,h),g(h,d),g(h,p),g(a,f),g(f,m),g(f,b),g(f,w)},p(e,[t]){O(n,$=ne(E,[{width:"50"},{height:"50"},{viewBox:"0 0 49 49"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},1&t&&e[0]]))},i:e,o:e,d(e){e&&v(n)}}}function Ui(e,r,n){return e.$$set=e=>{n(0,r=t(t({},r),f(e)))},[r=f(r)]}function ji(r){let n,i,s,o=[{width:"25"},{height:"24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},r[0]],a={};for(let e=0;e<o.length;e+=1)a=t(a,o[e]);return{c(){n=_("svg"),i=_("path"),s=_("path"),x(i,"d","M4.309 4h16.247c1.117 0 2.031.9 2.031 2v12c0 1.1-.914 2-2.03 2H4.308c-1.117 0-2.03-.9-2.03-2V6c0-1.1.913-2 2.03-2z"),x(i,"stroke","#D0D1D3"),x(i,"stroke-width","2"),x(i,"stroke-linecap","round"),x(i,"stroke-linejoin","round"),x(s,"d","m22.587 6-10.154 7L2.278 6"),x(s,"stroke","#D0D1D3"),x(s,"stroke-width","2"),x(s,"stroke-linecap","round"),x(s,"stroke-linejoin","round"),O(n,a)},m(e,t){y(e,n,t),g(n,i),g(n,s)},p(e,[t]){O(n,a=ne(o,[{width:"25"},{height:"24"},{fill:"none"},{xmlns:"http://www.w3.org/2000/svg"},1&t&&e[0]]))},i:e,o:e,d(e){e&&v(n)}}}function Li(e,r,n){return e.$$set=e=>{n(0,r=t(t({},r),f(e)))},[r=f(r)]}const Ni=class extends ce{constructor(e){super(),le(this,e,ki,Ai,o,{})}},Di=class extends ce{constructor(e){super(),le(this,e,Ri,Ii,o,{})}},Mi=class extends ce{constructor(e){super(),le(this,e,Ui,Ci,o,{})}},Gi=class extends ce{constructor(e){super(),le(this,e,Li,ji,o,{})}};function Fi(e){let t,r,n,i;return t=new yi({props:{style:"color: black; font-size: 14px; align-self: stretch;",$$slots:{default:[zi]},$$scope:{ctx:e}}}),t.$on("click",e[2]),n=new yi({props:{type:"primary",style:"font-size: 14px; margin-left: 12px; align-self: stretch;",$$slots:{default:[Hi]},$$scope:{ctx:e}}}),n.$on("click",e[3]),{c(){se(t.$$.fragment),r=E(),se(n.$$.fragment)},m(e,s){oe(t,e,s),y(e,r,s),oe(n,e,s),i=!0},p(e,r){const i={};18&r&&(i.$$scope={dirty:r,ctx:e}),t.$set(i);const s={};18&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s)},i(e){i||(te(t.$$.fragment,e),te(n.$$.fragment,e),i=!0)},o(e){re(t.$$.fragment,e),re(n.$$.fragment,e),i=!1},d(e){ae(t,e),e&&v(r),ae(n,e)}}}function Bi(t){let r,n,i;return{c(){r=b("a"),r.textContent="Intro",n=E(),i=b("a"),i.textContent="Service Sample",x(r,"class","link svelte-agwrht"),x(r,"href","/"),x(i,"class","link svelte-agwrht"),x(i,"href","/#/service_sample")},m(e,t){y(e,r,t),y(e,n,t),y(e,i,t)},p:e,i:e,o:e,d(e){e&&v(r),e&&v(n),e&&v(i)}}}function zi(e){let t,r,n=e[1]("login")+"";return{c(){t=b("div"),r=w(n),x(t,"class","text")},m(e,n){y(e,t,n),g(t,r)},p(e,t){2&t&&n!==(n=e[1]("login")+"")&&P(r,n)},d(e){e&&v(t)}}}function Hi(e){let t,r,n=e[1]("SignUp.title")+"";return{c(){t=b("div"),r=w(n),x(t,"class","text")},m(e,n){y(e,t,n),g(t,r)},p(e,t){2&t&&n!==(n=e[1]("SignUp.title")+"")&&P(r,n)},d(e){e&&v(t)}}}function Vi(e){let t,r,n,i,s,o,a;r=new Mi({props:{width:"34.29"}});const l=[Bi,Fi],c=[];function u(e,t){return e[0]?0:1}return s=u(e),o=c[s]=l[s](e),{c(){t=b("nav"),se(r.$$.fragment),n=E(),i=b("div"),o.c(),x(i,"class","nav-menu svelte-agwrht"),x(t,"class","svelte-agwrht")},m(e,o){y(e,t,o),oe(r,t,null),g(t,n),g(t,i),c[s].m(i,null),a=!0},p(e,[t]){let r=s;s=u(e),s===r?c[s].p(e,t):(Q(),re(c[r],1,1,(()=>{c[r]=null})),ee(),o=c[s],o?o.p(e,t):(o=c[s]=l[s](e),o.c()),te(o,1),o.m(i,null))},i(e){a||(te(r.$$.fragment,e),te(o),a=!0)},o(e){re(r.$$.fragment,e),re(o),a=!1},d(e){e&&v(t),ae(r),c[s].d()}}}function Xi(e,t,r){let n,i;l(e,Cr,(e=>r(0,n=e))),l(e,Ir,(e=>r(1,i=e)));return[n,i,async()=>{await hi("/sign_in")},()=>{hi("/sign_up")}]}class qi extends ce{constructor(e){super(),le(this,e,Xi,Vi,o,{})}}const Wi=e=>({}),Ji=e=>({}),Ki=e=>({}),Yi=e=>({});function Zi(e){let t,r,n,i,s,o,a;const l=e[7].leftElement,u=c(l,e,e[6],Yi),f=e[7].rightElement,m=c(f,e,e[6],Ji);return{c(){t=b("main"),u&&u.c(),r=E(),n=b("input"),i=E(),m&&m.c(),x(n,"style",e[3]),x(n,"type",e[1]),x(n,"placeholder",e[0]),x(n,"class","svelte-nrwdh8"),x(t,"style",e[2]),x(t,"class","svelte-nrwdh8")},m(l,c){y(l,t,c),u&&u.m(t,null),g(t,r),g(t,n),g(t,i),m&&m.m(t,null),s=!0,o||(a=T(n,"input",e[4]),o=!0)},p(e,[r]){u&&u.p&&(!s||64&r)&&d(u,l,e,e[6],s?h(l,e[6],r,Ki):p(e[6]),Yi),(!s||8&r)&&x(n,"style",e[3]),(!s||2&r)&&x(n,"type",e[1]),(!s||1&r)&&x(n,"placeholder",e[0]),m&&m.p&&(!s||64&r)&&d(m,f,e,e[6],s?h(f,e[6],r,Wi):p(e[6]),Ji),(!s||4&r)&&x(t,"style",e[2])},i(e){s||(te(u,e),te(m,e),s=!0)},o(e){re(u,e),re(m,e),s=!1},d(e){e&&v(t),u&&u.d(e),m&&m.d(e),o=!1,a()}}}function Qi(e,t,r){let{$$slots:n={},$$scope:i}=t,{placeholder:s=""}=t,{type:o="text"}=t,{containerStyle:a=""}=t,{inputStyle:l=""}=t,{value:c=""}=t;const u=L();return e.$$set=e=>{"placeholder"in e&&r(0,s=e.placeholder),"type"in e&&r(1,o=e.type),"containerStyle"in e&&r(2,a=e.containerStyle),"inputStyle"in e&&r(3,l=e.inputStyle),"value"in e&&r(5,c=e.value),"$$scope"in e&&r(6,i=e.$$scope)},[s,o,a,l,e=>{r(5,c=/^(number|range)$/.exec(o)?+e.target.value:e.target.value),u("changed",c)},c,i,n]}class es extends ce{constructor(e){super(),le(this,e,Qi,Zi,o,{placeholder:0,type:1,containerStyle:2,inputStyle:3,value:5})}}function ts(t){let r,n;return r=new Gi({props:{slot:"leftElement"}}),{c(){se(r.$$.fragment)},m(e,t){oe(r,e,t),n=!0},p:e,i(e){n||(te(r.$$.fragment,e),n=!0)},o(e){re(r.$$.fragment,e),n=!1},d(e){ae(r,e)}}}function rs(t){let r,n;return r=new Di({props:{slot:"leftElement"}}),{c(){se(r.$$.fragment)},m(e,t){oe(r,e,t),n=!0},p:e,i(e){n||(te(r.$$.fragment,e),n=!0)},o(e){re(r.$$.fragment,e),n=!1},d(e){ae(r,e)}}}function ns(e){let t,r,n=(e[0]?e[1]("loading"):e[1]("sign_in"))+"";return{c(){t=b("div"),r=w(n),x(t,"class","text")},m(e,n){y(e,t,n),g(t,r)},p(e,t){3&t&&n!==(n=(e[0]?e[1]("loading"):e[1]("sign_in"))+"")&&P(r,n)},d(e){e&&v(t)}}}function is(e){let t,r,n=e[1]("SignIn.sign_in_with_google")+"";return{c(){t=b("div"),r=w(n),x(t,"class","text")},m(e,n){y(e,t,n),g(t,r)},p(e,t){2&t&&n!==(n=e[1]("SignIn.sign_in_with_google")+"")&&P(r,n)},d(e){e&&v(t)}}}function ss(e){let t,r,n=e[1]("SignIn.sign_in_with_facebook")+"";return{c(){t=b("div"),r=w(n),x(t,"class","text")},m(e,n){y(e,t,n),g(t,r)},p(e,t){2&t&&n!==(n=e[1]("SignIn.sign_in_with_facebook")+"")&&P(r,n)},d(e){e&&v(t)}}}function os(e){let t,r,n,i,s,o,a,l,c,u,h,d,p,f,m,_,$,T,S,O,A,I,R,C,U,j,L,N,D,M=e[1]("login")+"",G=e[1]("SignIn.do_not_have_account")+"",F=e[1]("SignIn.forgot_your_password")+"",B=e[1]("SignIn.look_around")+"";return n=new Mi({}),l=new es({props:{containerStyle:"width: 80%;",inputStyle:"font-size: 14px;",type:"email",placeholder:e[1]("SignIn.email_hint"),$$slots:{leftElement:[ts]},$$scope:{ctx:e}}}),l.$on("changed",e[2]),u=new es({props:{containerStyle:"width: 80%; margin-top: 8px",inputStyle:"font-size: 14px;",type:"password",placeholder:e[1]("SignIn.pw_hint"),$$slots:{leftElement:[rs]},$$scope:{ctx:e}}}),u.$on("changed",e[3]),A=new yi({props:{primary:!0,style:"font-size: 14px; align-self: stretch; margin: 40px 10% 0 10%",type:"submit",disabled:e[0],$$slots:{default:[ns]},$$scope:{ctx:e}}}),A.$on("click",e[4]),R=new yi({props:{style:"color: black; font-size: 14px; align-self: stretch; margin: 12px 10%;",$$slots:{default:[is]},$$scope:{ctx:e}}}),R.$on("click",e[5]),U=new yi({props:{style:"color: black; font-size: 14px; align-self: stretch; margin: 0 10%;",$$slots:{default:[ss]},$$scope:{ctx:e}}}),U.$on("click",e[6]),{c(){t=b("main"),r=b("form"),se(n.$$.fragment),i=E(),s=b("h1"),o=w(M),a=E(),se(l.$$.fragment),c=E(),se(u.$$.fragment),h=E(),d=b("div"),p=b("a"),f=w(G),m=w("?"),_=E(),$=b("a"),T=w(F),S=w("?"),O=E(),se(A.$$.fragment),I=E(),se(R.$$.fragment),C=E(),se(U.$$.fragment),j=E(),L=b("a"),N=w(B),k(s,"margin-bottom","60px"),x(p,"class","link svelte-nyragz"),x(p,"href","/#/sign_up"),x($,"class","link svelte-nyragz"),x($,"href","/#/sign_up"),x(d,"class","container-options svelte-nyragz"),x(L,"class","link svelte-nyragz"),x(L,"href","/#"),k(L,"margin-top","8px"),x(r,"class","svelte-nyragz"),x(t,"class","svelte-nyragz")},m(e,v){y(e,t,v),g(t,r),oe(n,r,null),g(r,i),g(r,s),g(s,o),g(r,a),oe(l,r,null),g(r,c),oe(u,r,null),g(r,h),g(r,d),g(d,p),g(p,f),g(p,m),g(d,_),g(d,$),g($,T),g($,S),g(r,O),oe(A,r,null),g(r,I),oe(R,r,null),g(r,C),oe(U,r,null),g(r,j),g(r,L),g(L,N),D=!0},p(e,[t]){(!D||2&t)&&M!==(M=e[1]("login")+"")&&P(o,M);const r={};2&t&&(r.placeholder=e[1]("SignIn.email_hint")),2048&t&&(r.$$scope={dirty:t,ctx:e}),l.$set(r);const n={};2&t&&(n.placeholder=e[1]("SignIn.pw_hint")),2048&t&&(n.$$scope={dirty:t,ctx:e}),u.$set(n),(!D||2&t)&&G!==(G=e[1]("SignIn.do_not_have_account")+"")&&P(f,G),(!D||2&t)&&F!==(F=e[1]("SignIn.forgot_your_password")+"")&&P(T,F);const i={};1&t&&(i.disabled=e[0]),2051&t&&(i.$$scope={dirty:t,ctx:e}),A.$set(i);const s={};2050&t&&(s.$$scope={dirty:t,ctx:e}),R.$set(s);const a={};2050&t&&(a.$$scope={dirty:t,ctx:e}),U.$set(a),(!D||2&t)&&B!==(B=e[1]("SignIn.look_around")+"")&&P(N,B)},i(e){D||(te(n.$$.fragment,e),te(l.$$.fragment,e),te(u.$$.fragment,e),te(A.$$.fragment,e),te(R.$$.fragment,e),te(U.$$.fragment,e),D=!0)},o(e){re(n.$$.fragment,e),re(l.$$.fragment,e),re(u.$$.fragment,e),re(A.$$.fragment,e),re(R.$$.fragment,e),re(U.$$.fragment,e),D=!1},d(e){e&&v(t),ae(n),ae(l),ae(u),ae(A),ae(R),ae(U)}}}function as(e,t,r){let n,i;l(e,Cr,(e=>r(9,n=e))),l(e,Ir,(e=>r(1,i=e)));let s,o,a=!1;j((()=>Ie(void 0,void 0,void 0,(function*(){n&&(yield di("/"))}))));return[a,i,e=>{s=e.detail},e=>{o=e.detail},()=>Ie(void 0,void 0,void 0,(function*(){var e;yield(e=()=>Ie(void 0,void 0,void 0,(function*(){const{error:e}=yield ni.auth.signIn({email:s,password:o});return e||di("/"),e})),Ie(void 0,void 0,void 0,(function*(){try{r(0,a=!0);const t=yield e();if(t)throw t}catch(e){alert(e.error_description||e.message)}finally{r(0,a=!1)}})))})),()=>Ie(void 0,void 0,void 0,(function*(){})),()=>Ie(void 0,void 0,void 0,(function*(){}))]}class ls extends ce{constructor(e){super(),le(this,e,as,os,o,{})}}function cs(e){let t,r,n=(e[0]?e[2]("loading"):e[2]("SignUp.title"))+"";return{c(){t=b("div"),r=w(n),x(t,"class","text")},m(e,n){y(e,t,n),g(t,r)},p(e,t){5&t&&n!==(n=(e[0]?e[2]("loading"):e[2]("SignUp.title"))+"")&&P(r,n)},d(e){e&&v(t)}}}function us(e){let t,r,n,i,s,o,a,l,c,u,h,d,p,f,m,_,$,S,O,A,I,R,C,U,j,L,N,D,M,G,F,B,z,H,V=e[2]("SignUp.title")+"",X=e[2]("email")+"",q=e[2]("pw")+"",W=e[2]("SignUp.pw_confirm")+"",J=e[2]("SignUp.terms_and_agreement")+"";return S=new es({props:{containerStyle:"align-self: stretch;",inputStyle:"font-size: 14px;",type:"email",placeholder:e[2]("SignUp.email_hint")}}),S.$on("changed",e[3]),A=new es({props:{containerStyle:"align-self: stretch; margin-top: 8px",inputStyle:"font-size: 14px;",type:"password",placeholder:e[2]("SignUp.pw_hint")}}),A.$on("changed",e[4]),R=new es({props:{containerStyle:"align-self: stretch; margin-top: 8px",inputStyle:"font-size: 14px;",type:"password",placeholder:e[2]("SignUp.pw_confirm_hint")}}),R.$on("changed",e[5]),L=new Ni({props:{width:34,fill:e[1]?"#0DB293":"none"}}),F=new yi({props:{primary:!0,class:"btn-sign-up",type:"submit",disabled:e[0],$$slots:{default:[cs]},$$scope:{ctx:e}}}),F.$on("click",e[7]),{c(){t=b("main"),r=b("form"),n=b("div"),i=b("h1"),s=w(V),o=E(),a=b("div"),l=b("p"),c=w(X),u=E(),h=b("p"),d=w(q),p=E(),f=b("p"),m=w(W),_=E(),$=b("div"),se(S.$$.fragment),O=E(),se(A.$$.fragment),I=E(),se(R.$$.fragment),C=E(),U=b("div"),j=b("div"),se(L.$$.fragment),N=E(),D=b("p"),M=E(),G=b("div"),se(F.$$.fragment),k(i,"align-self","center"),x(n,"class","header svelte-dlztu5"),k(l,"height","40px"),x(l,"class","svelte-dlztu5"),k(h,"height","40px"),x(h,"class","svelte-dlztu5"),k(f,"height","40px"),x(f,"class","svelte-dlztu5"),x(a,"class","label svelte-dlztu5"),x($,"class","input svelte-dlztu5"),x(D,"class","svelte-dlztu5"),x(j,"class","container icon svelte-dlztu5"),x(U,"class","terms svelte-dlztu5"),x(G,"class","btn-sign svelte-dlztu5"),x(r,"class","svelte-dlztu5"),x(t,"class","svelte-dlztu5")},m(v,b){y(v,t,b),g(t,r),g(r,n),g(n,i),g(i,s),g(r,o),g(r,a),g(a,l),g(l,c),g(a,u),g(a,h),g(h,d),g(a,p),g(a,f),g(f,m),g(r,_),g(r,$),oe(S,$,null),g($,O),oe(A,$,null),g($,I),oe(R,$,null),g(r,C),g(r,U),g(U,j),oe(L,j,null),g(j,N),g(j,D),D.innerHTML=J,g(r,M),g(r,G),oe(F,G,null),B=!0,z||(H=T(j,"click",e[6]),z=!0)},p(e,[t]){(!B||4&t)&&V!==(V=e[2]("SignUp.title")+"")&&P(s,V),(!B||4&t)&&X!==(X=e[2]("email")+"")&&P(c,X),(!B||4&t)&&q!==(q=e[2]("pw")+"")&&P(d,q),(!B||4&t)&&W!==(W=e[2]("SignUp.pw_confirm")+"")&&P(m,W);const r={};4&t&&(r.placeholder=e[2]("SignUp.email_hint")),S.$set(r);const n={};4&t&&(n.placeholder=e[2]("SignUp.pw_hint")),A.$set(n);const i={};4&t&&(i.placeholder=e[2]("SignUp.pw_confirm_hint")),R.$set(i);const o={};2&t&&(o.fill=e[1]?"#0DB293":"none"),L.$set(o),(!B||4&t)&&J!==(J=e[2]("SignUp.terms_and_agreement")+"")&&(D.innerHTML=J);const a={};1&t&&(a.disabled=e[0]),8197&t&&(a.$$scope={dirty:t,ctx:e}),F.$set(a)},i(e){B||(te(S.$$.fragment,e),te(A.$$.fragment,e),te(R.$$.fragment,e),te(L.$$.fragment,e),te(F.$$.fragment,e),B=!0)},o(e){re(S.$$.fragment,e),re(A.$$.fragment,e),re(R.$$.fragment,e),re(L.$$.fragment,e),re(F.$$.fragment,e),B=!1},d(e){e&&v(t),ae(S),ae(A),ae(R),ae(L),ae(F),z=!1,H()}}}function hs(e,t,r){let n,i;l(e,Ir,(e=>r(2,n=e))),l(e,Cr,(e=>r(11,i=e)));let s,o,a,c=!1,u=!1;j((()=>Ie(void 0,void 0,void 0,(function*(){i&&(yield di("/"))}))));return[c,u,n,e=>{s=e.detail},e=>{o=e.detail},e=>{a=e.detail},()=>{r(1,u=!u)},()=>Ie(void 0,void 0,void 0,(function*(){var e;s&&o&&a&&u?yield(e=()=>Ie(void 0,void 0,void 0,(function*(){const{error:e}=yield ni.auth.signUp({email:s,password:o});return e})),Ie(void 0,void 0,void 0,(function*(){try{r(0,c=!0);const t=yield e();if(t)throw t}catch(e){alert(e.error_description||e.message)}finally{r(0,c=!1)}}))):alert(n("SignUp.missing_inputs"))}))]}class ds extends ce{constructor(e){super(),le(this,e,hs,us,o,{})}}function ps(e){let t;return{c(){t=b("div"),t.textContent="Create Community"},m(e,r){y(e,t,r)},d(e){e&&v(t)}}}function fs(e){let t;return{c(){t=b("div"),t.textContent="Get My Communities"},m(e,r){y(e,t,r)},d(e){e&&v(t)}}}function ms(e){let t;return{c(){t=b("div"),t.textContent="Update Community"},m(e,r){y(e,t,r)},d(e){e&&v(t)}}}function gs(e){let t;return{c(){t=b("div"),t.textContent="Delete Community"},m(e,r){y(e,t,r)},d(e){e&&v(t)}}}function ys(e){let t,r,n,i,s,o,a,l,c,u,h,d,p,f,m;return i=new es({props:{containerStyle:"width: 80%;",inputStyle:"font-size: 14px;",type:"text",placeholder:"community name"}}),i.$on("changed",e[0]),o=new yi({props:{style:"color: black; font-size: 14px; align-self: stretch; margin: 12px 10%;",$$slots:{default:[ps]},$$scope:{ctx:e}}}),o.$on("click",e[1]),l=new yi({props:{style:"color: black; font-size: 14px; align-self: stretch; margin: 12px 10%;",$$slots:{default:[fs]},$$scope:{ctx:e}}}),l.$on("click",e[2]),u=new yi({props:{style:"color: black; font-size: 14px; align-self: stretch; margin: 12px 10%;",$$slots:{default:[ms]},$$scope:{ctx:e}}}),d=new yi({props:{style:"color: black; font-size: 14px; align-self: stretch; margin: 12px 10%;",$$slots:{default:[gs]},$$scope:{ctx:e}}}),{c(){t=b("main"),r=b("p"),r.textContent="Community Service",n=E(),se(i.$$.fragment),s=E(),se(o.$$.fragment),a=E(),se(l.$$.fragment),c=E(),se(u.$$.fragment),h=E(),se(d.$$.fragment),p=E(),f=b("p"),f.textContent="Community Service",x(r,"class","title svelte-1eggljf"),k(r,"margin-top","8px"),x(f,"class","title svelte-1eggljf"),k(f,"margin-top","40px"),x(t,"class","svelte-1eggljf")},m(e,v){y(e,t,v),g(t,r),g(t,n),oe(i,t,null),g(t,s),oe(o,t,null),g(t,a),oe(l,t,null),g(t,c),oe(u,t,null),g(t,h),oe(d,t,null),g(t,p),g(t,f),m=!0},p(e,[t]){const r={};128&t&&(r.$$scope={dirty:t,ctx:e}),o.$set(r);const n={};128&t&&(n.$$scope={dirty:t,ctx:e}),l.$set(n);const i={};128&t&&(i.$$scope={dirty:t,ctx:e}),u.$set(i);const s={};128&t&&(s.$$scope={dirty:t,ctx:e}),d.$set(s)},i(e){m||(te(i.$$.fragment,e),te(o.$$.fragment,e),te(l.$$.fragment,e),te(u.$$.fragment,e),te(d.$$.fragment,e),m=!0)},o(e){re(i.$$.fragment,e),re(o.$$.fragment,e),re(l.$$.fragment,e),re(u.$$.fragment,e),re(d.$$.fragment,e),m=!1},d(e){e&&v(t),ae(i),ae(o),ae(l),ae(u),ae(d)}}}function vs(e,t,r){let n,i;l(e,Cr,(e=>r(5,n=e)));return[e=>{i=e.detail},()=>Ie(void 0,void 0,void 0,(function*(){if(!n)return;const e=yield(async(e,t)=>{if(!e||!t)return console.error("no userId or community"),null;try{const{data:r,error:n}=await ni.from("Community").insert([Object.assign({},t)]).single();if(n)throw n;return r&&await ni.from("Permission").insert([{communityId:r.id,type:"owner",userId:e}]),r}catch(e){return console.error(e),null}})(n.id,{name:i,currency:"KRW",color:"red",description:"Hi dooboolab",isPublic:!0});console.log("community",e)})),()=>Ie(void 0,void 0,void 0,(function*(){if(!n)return;const e=yield(async e=>{try{const{data:t,error:r}=await ni.from("Permission").select("\n        Community (\n          isPublic,\n          name,\n          description,\n          currency,\n          color\n        )\n      ").match({userId:e});if(r)throw r;return null==t?void 0:t.map((e=>e.Community))}catch(e){return console.error(e),null}})(n.id);console.log("communities",e),e&&(null==e||e[0])}))]}class bs extends ce{constructor(e){super(),le(this,e,vs,ys,o,{})}}function _s(t){let r;return{c(){r=b("main"),r.textContent="Temp",x(r,"class","svelte-7gn5wx")},m(e,t){y(e,r,t)},p:e,i:e,o:e,d(e){e&&v(r)}}}class ws extends ce{constructor(e){super(),le(this,e,null,_s,o,{})}}function Es(t){let r,n,i,s,o;return n=new qi({}),s=new fi({props:{routes:t[0]}}),{c(){r=b("main"),se(n.$$.fragment),i=E(),se(s.$$.fragment),x(r,"class","svelte-1odvdh4")},m(e,t){y(e,r,t),oe(n,r,null),g(r,i),oe(s,r,null),o=!0},p:e,i(e){o||(te(n.$$.fragment,e),te(s.$$.fragment,e),o=!0)},o(e){re(n.$$.fragment,e),re(s.$$.fragment,e),o=!1},d(e){e&&v(r),ae(n),ae(s)}}}function $s(e){return[{"/sign_in":ls,"/sign_up":ds,"/":Si,"/profile":Pi,"/service_sample":bs,"/*":ws}]}class Ts extends ce{constructor(e){super(),le(this,e,$s,Es,o,{})}}function Ss(t){let r,n,i;return n=new Ts({}),{c(){r=b("main"),se(n.$$.fragment)},m(e,t){y(e,r,t),oe(n,r,null),i=!0},p:e,i(e){i||(te(n.$$.fragment,e),i=!0)},o(e){re(n.$$.fragment,e),i=!1},d(e){e&&v(r),ae(n)}}}function xs(e){return ni.auth.onAuthStateChange(((e,t)=>{t?.user&&(async e=>{if(!e||!e.id)return null;const t={aud:e.aud,confirmation_sent_at:e.confirmation_sent_at,confirmed_at:e.confirmed_at,created_at:e.created_at,email:e.email,email_confirmed_at:e.email_confirmed_at,id:e.id,last_sign_in_at:e.last_sign_in_at,phone:e.phone,phone_confirmed_at:e.phone_confirmed_at,recovery_sent_at:e.recovery_sent_at,role:e.role,updated_at:e.updated_at};try{const{data:e,error:r}=await ni.from("User").upsert([Object.assign({},t)]).single();if(r)throw r}catch(e){return console.error(e),null}})(t.user),Cr.set(t?.user)})),[]}return new class extends ce{constructor(e){super(),le(this,e,xs,Ss,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
