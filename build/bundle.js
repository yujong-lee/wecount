var wecount=function(){"use strict";function e(){}function t(e,t){for(const r in t)e[r]=t[r];return e}function r(e){return e()}function n(){return Object.create(null)}function i(e){e.forEach(r)}function s(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,...r){if(null==t)return e;const n=t.subscribe(...r);return n.unsubscribe?()=>n.unsubscribe():n}function u(e,t,r){e.$$.on_destroy.push(a(t,r))}function c(e,r,n,i){return e[1]&&i?t(n.ctx.slice(),e[1](i(r))):n.ctx}function l(e,t){e.appendChild(t)}function h(e,t,r){e.insertBefore(t,r||null)}function d(e){e.parentNode.removeChild(e)}function f(e){return document.createElement(e)}function p(e){return document.createTextNode(e)}function m(){return p(" ")}function g(){return p("")}function y(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function v(e){return function(t){return t.preventDefault(),e.call(this,t)}}function b(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function E(e,t){e.value=null==t?"":t}let _;function w(e){_=e}function T(){if(!_)throw new Error("Function called outside component initialization");return _}function S(){const e=T();return(t,r)=>{const n=e.$$.callbacks[t];if(n){const i=function(e,t,r=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,r,!1,t),n}(t,r);n.slice().forEach((t=>{t.call(e,i)}))}}}function $(e,t){const r=e.$$.callbacks[t.type];r&&r.slice().forEach((e=>e.call(this,t)))}const O=[],P=[],A=[],k=[],R=Promise.resolve();let I=!1;function x(){I||(I=!0,R.then(N))}function C(e){A.push(e)}let L=!1;const j=new Set;function N(){if(!L){L=!0;do{for(let e=0;e<O.length;e+=1){const t=O[e];w(t),U(t.$$)}for(w(null),O.length=0;P.length;)P.pop()();for(let e=0;e<A.length;e+=1){const t=A[e];j.has(t)||(j.add(t),t())}A.length=0}while(O.length);for(;k.length;)k.pop()();I=!1,L=!1,j.clear()}}function U(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(C)}}const D=new Set;let M;function G(){M={r:0,c:[],p:M}}function F(){M.r||i(M.c),M=M.p}function B(e,t){e&&e.i&&(D.delete(e),e.i(t))}function H(e,t,r,n){if(e&&e.o){if(D.has(e))return;D.add(e),M.c.push((()=>{D.delete(e),n&&(r&&e.d(1),n())})),e.o(t)}}function V(e,t){const r={},n={},i={$$scope:1};let s=e.length;for(;s--;){const o=e[s],a=t[s];if(a){for(const e in o)e in a||(n[e]=1);for(const e in a)i[e]||(r[e]=a[e],i[e]=1);e[s]=a}else for(const e in o)i[e]=1}for(const e in n)e in r||(r[e]=void 0);return r}function X(e){return"object"==typeof e&&null!==e?e:{}}function q(e){e&&e.c()}function z(e,t,n,o){const{fragment:a,on_mount:u,on_destroy:c,after_update:l}=e.$$;a&&a.m(t,n),o||C((()=>{const t=u.map(r).filter(s);c?c.push(...t):i(t),e.$$.on_mount=[]})),l.forEach(C)}function J(e,t){const r=e.$$;null!==r.fragment&&(i(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function K(t,r,s,o,a,u,c,l=[-1]){const h=_;w(t);const f=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:r.context||[]),callbacks:n(),dirty:l,skip_bound:!1,root:r.target||h.$$.root};c&&c(f.root);let p=!1;if(f.ctx=s?s(t,r.props||{},((e,r,...n)=>{const i=n.length?n[0]:r;return f.ctx&&a(f.ctx[e],f.ctx[e]=i)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](i),p&&function(e,t){-1===e.$$.dirty[0]&&(O.push(e),x(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),r})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!o&&o(f.ctx),r.target){if(r.hydrate){const e=function(e){return Array.from(e.childNodes)}(r.target);f.fragment&&f.fragment.l(e),e.forEach(d)}else f.fragment&&f.fragment.c();r.intro&&B(t.$$.fragment),z(t,r.target,r.anchor,r.customElement),N()}w(h)}class W{$destroy(){J(this,1),this.$destroy=e}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Y=[];function Z(e,t){return{subscribe:Q(e,t).subscribe}}function Q(t,r=e){let n;const i=new Set;function s(e){if(o(t,e)&&(t=e,n)){const e=!Y.length;for(const e of i)e[1](),Y.push(e,t);if(e){for(let e=0;e<Y.length;e+=2)Y[e][0](Y[e+1]);Y.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(o,a=e){const u=[o,a];return i.add(u),1===i.size&&(n=r(s)||e),o(t),()=>{i.delete(u),0===i.size&&(n(),n=null)}}}}function ee(t,r,n){const o=!Array.isArray(t),u=o?[t]:t,c=r.length<2;return Z(n,(t=>{let n=!1;const l=[];let h=0,d=e;const f=()=>{if(h)return;d();const n=r(o?l[0]:l,t);c?t(n):d=s(n)?n:e},p=u.map(((e,t)=>a(e,(e=>{l[t]=e,h&=~(1<<t),n&&f()}),(()=>{h|=1<<t}))));return n=!0,f(),function(){i(p),d()}}))}var te="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function re(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ne=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===ie}(e)}(e)};var ie="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function se(e,t){return!1!==t.clone&&t.isMergeableObject(e)?le((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function oe(e,t,r){return e.concat(t).map((function(e){return se(e,r)}))}function ae(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function ue(e,t){try{return t in e}catch(e){return!1}}function ce(e,t,r){var n={};return r.isMergeableObject(e)&&ae(e).forEach((function(t){n[t]=se(e[t],r)})),ae(t).forEach((function(i){(function(e,t){return ue(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(ue(e,i)&&r.isMergeableObject(t[i])?n[i]=function(e,t){if(!t.customMerge)return le;var r=t.customMerge(e);return"function"==typeof r?r:le}(i,r)(e[i],t[i],r):n[i]=se(t[i],r))})),n}function le(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||oe,r.isMergeableObject=r.isMergeableObject||ne,r.cloneUnlessOtherwiseSpecified=se;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):ce(e,t,r):se(t,r)}le.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return le(e,r,t)}),{})};var he=le,de=function(e,t){return(de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function fe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}de(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var pe,me,ge,ye=function(){return(ye=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function ve(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))}function be(e,t,r){if(r||2===arguments.length)for(var n,i=0,s=t.length;i<s;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||t)}function Ee(e){return e.type===me.literal}function _e(e){return e.type===me.argument}function we(e){return e.type===me.number}function Te(e){return e.type===me.date}function Se(e){return e.type===me.time}function $e(e){return e.type===me.select}function Oe(e){return e.type===me.plural}function Pe(e){return e.type===me.pound}function Ae(e){return e.type===me.tag}function ke(e){return!(!e||"object"!=typeof e||e.type!==ge.number)}function Re(e){return!(!e||"object"!=typeof e||e.type!==ge.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(pe||(pe={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(me||(me={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(ge||(ge={}));var Ie=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,xe=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function Ce(e){var t={};return e.replace(xe,(function(e){var r=e.length;switch(e[0]){case"G":t.era=4===r?"long":5===r?"narrow":"short";break;case"y":t.year=2===r?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][r-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][r-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===r?"short":5===r?"narrow":"short";break;case"e":if(r<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"c":if(r<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][r-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][r-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][r-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][r-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][r-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][r-1];break;case"s":t.second=["numeric","2-digit"][r-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=r<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var Le=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var je,Ne=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,Ue=/^(@+)?(\+|#+)?$/g,De=/(\*)(0+)|(#+)(0+)|(0+)/g,Me=/^(0+)$/;function Ge(e){var t={};return e.replace(Ue,(function(e,r,n){return"string"!=typeof n?(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length):"+"===n?t.minimumSignificantDigits=r.length:"#"===r[0]?t.maximumSignificantDigits=r.length:(t.minimumSignificantDigits=r.length,t.maximumSignificantDigits=r.length+("string"==typeof n?n.length:0)),""})),t}function Fe(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function Be(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var r=e.slice(0,2);if("+!"===r?(t.signDisplay="always",e=e.slice(2)):"+?"===r&&(t.signDisplay="exceptZero",e=e.slice(2)),!Me.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function He(e){var t=Fe(e);return t||{}}function Ve(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=i.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=ye(ye(ye({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return ye(ye({},e),He(t))}),{}));continue;case"engineering":t=ye(ye(ye({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return ye(ye({},e),He(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(De,(function(e,r,n,i,s,o){if(r)t.minimumIntegerDigits=n.length;else{if(i&&s)throw new Error("We currently do not support maximum integer digits");if(o)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(Me.test(i.stem))t.minimumIntegerDigits=i.stem.length;else if(Ne.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(Ne,(function(e,r,n,i,s,o){return"*"===n?t.minimumFractionDigits=r.length:i&&"#"===i[0]?t.maximumFractionDigits=i.length:s&&o?(t.minimumFractionDigits=s.length,t.maximumFractionDigits=s.length+o.length):(t.minimumFractionDigits=r.length,t.maximumFractionDigits=r.length),""})),i.options.length&&(t=ye(ye({},t),Ge(i.options[0])))}else if(Ue.test(i.stem))t=ye(ye({},t),Ge(i.stem));else{var s=Fe(i.stem);s&&(t=ye(ye({},t),s));var o=Be(i.stem);o&&(t=ye(ye({},t),o))}}return t}var Xe=new RegExp("^"+Ie.source+"*"),qe=new RegExp(Ie.source+"*$");function ze(e,t){return{start:e,end:t}}var Je=!!String.prototype.startsWith,Ke=!!String.fromCodePoint,We=!!Object.fromEntries,Ye=!!String.prototype.codePointAt,Ze=!!String.prototype.trimStart,Qe=!!String.prototype.trimEnd,et=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},tt=!0;try{tt="a"===(null===(je=ct("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===je?void 0:je[0])}catch(e){tt=!1}var rt,nt=Je?function(e,t,r){return e.startsWith(t,r)}:function(e,t,r){return e.slice(r,r+t.length)===t},it=Ke?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r,n="",i=e.length,s=0;i>s;){if((r=e[s++])>1114111)throw RangeError(r+" is not a valid code point");n+=r<65536?String.fromCharCode(r):String.fromCharCode(55296+((r-=65536)>>10),r%1024+56320)}return n},st=We?Object.fromEntries:function(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r],s=i[0],o=i[1];t[s]=o}return t},ot=Ye?function(e,t){return e.codePointAt(t)}:function(e,t){var r=e.length;if(!(t<0||t>=r)){var n,i=e.charCodeAt(t);return i<55296||i>56319||t+1===r||(n=e.charCodeAt(t+1))<56320||n>57343?i:n-56320+(i-55296<<10)+65536}},at=Ze?function(e){return e.trimStart()}:function(e){return e.replace(Xe,"")},ut=Qe?function(e){return e.trimEnd()}:function(e){return e.replace(qe,"")};function ct(e,t){return new RegExp(e,t)}if(tt){var lt=ct("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");rt=function(e,t){var r;return lt.lastIndex=t,null!==(r=lt.exec(e)[1])&&void 0!==r?r:""}}else rt=function(e,t){for(var r=[];;){var n=ot(e,t);if(void 0===n||pt(n)||mt(n))break;r.push(n),t+=n>=65536?2:1}return it.apply(void 0,r)};var ht=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,r){for(var n=[];!this.isEOF();){var i=this.char();if(123===i){if((s=this.parseArgument(e,r)).err)return s;n.push(s.val)}else{if(125===i&&e>0)break;if(35!==i||"plural"!==t&&"selectordinal"!==t){if(60===i&&!this.ignoreTag&&47===this.peek()){if(r)break;return this.error(pe.UNMATCHED_CLOSING_TAG,ze(this.clonePosition(),this.clonePosition()))}if(60===i&&!this.ignoreTag&&dt(this.peek()||0)){if((s=this.parseTag(e,t)).err)return s;n.push(s.val)}else{var s;if((s=this.parseLiteral(e,t)).err)return s;n.push(s.val)}}else{var o=this.clonePosition();this.bump(),n.push({type:me.pound,location:ze(o,this.clonePosition())})}}}return{val:n,err:null}},e.prototype.parseTag=function(e,t){var r=this.clonePosition();this.bump();var n=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:me.literal,value:"<"+n+"/>",location:ze(r,this.clonePosition())},err:null};if(this.bumpIf(">")){var i=this.parseMessage(e+1,t,!0);if(i.err)return i;var s=i.val,o=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!dt(this.char()))return this.error(pe.INVALID_TAG,ze(o,this.clonePosition()));var a=this.clonePosition();return n!==this.parseTagName()?this.error(pe.UNMATCHED_CLOSING_TAG,ze(a,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:me.tag,value:n,children:s,location:ze(r,this.clonePosition())},err:null}:this.error(pe.INVALID_TAG,ze(o,this.clonePosition())))}return this.error(pe.UNCLOSED_TAG,ze(r,this.clonePosition()))}return this.error(pe.INVALID_TAG,ze(r,this.clonePosition()))},e.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&ft(this.char());)this.bump();return this.message.slice(e,this.offset())},e.prototype.parseLiteral=function(e,t){for(var r=this.clonePosition(),n="";;){var i=this.tryParseQuote(t);if(i)n+=i;else{var s=this.tryParseUnquoted(e,t);if(s)n+=s;else{var o=this.tryParseLeftAngleBracket();if(!o)break;n+=o}}}var a=ze(r,this.clonePosition());return{val:{type:me.literal,value:n,location:a},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(dt(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var r=this.char();if(39===r){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(r);this.bump()}return it.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var r=this.char();return 60===r||123===r||35===r&&("plural"===t||"selectordinal"===t)||125===r&&e>0?null:(this.bump(),it(r))},e.prototype.parseArgument=function(e,t){var r=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(pe.EXPECT_ARGUMENT_CLOSING_BRACE,ze(r,this.clonePosition()));if(125===this.char())return this.bump(),this.error(pe.EMPTY_ARGUMENT,ze(r,this.clonePosition()));var n=this.parseIdentifierIfPossible().value;if(!n)return this.error(pe.MALFORMED_ARGUMENT,ze(r,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(pe.EXPECT_ARGUMENT_CLOSING_BRACE,ze(r,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:me.argument,value:n,location:ze(r,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(pe.EXPECT_ARGUMENT_CLOSING_BRACE,ze(r,this.clonePosition())):this.parseArgumentOptions(e,t,n,r);default:return this.error(pe.MALFORMED_ARGUMENT,ze(r,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),r=rt(this.message,t),n=t+r.length;return this.bumpTo(n),{value:r,location:ze(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,r,n){var i,s=this.clonePosition(),o=this.parseIdentifierIfPossible().value,a=this.clonePosition();switch(o){case"":return this.error(pe.EXPECT_ARGUMENT_TYPE,ze(s,a));case"number":case"date":case"time":this.bumpSpace();var u=null;if(this.bumpIf(",")){this.bumpSpace();var c=this.clonePosition();if((g=this.parseSimpleArgStyleIfPossible()).err)return g;if(0===(d=ut(g.val)).length)return this.error(pe.EXPECT_ARGUMENT_STYLE,ze(this.clonePosition(),this.clonePosition()));u={style:d,styleLocation:ze(c,this.clonePosition())}}if((y=this.tryParseArgumentClose(n)).err)return y;var l=ze(n,this.clonePosition());if(u&&nt(null==u?void 0:u.style,"::",0)){var h=at(u.style.slice(2));if("number"===o)return(g=this.parseNumberSkeletonFromString(h,u.styleLocation)).err?g:{val:{type:me.number,value:r,location:l,style:g.val},err:null};if(0===h.length)return this.error(pe.EXPECT_DATE_TIME_SKELETON,l);var d={type:ge.dateTime,pattern:h,location:u.styleLocation,parsedOptions:this.shouldParseSkeletons?Ce(h):{}};return{val:{type:"date"===o?me.date:me.time,value:r,location:l,style:d},err:null}}return{val:{type:"number"===o?me.number:"date"===o?me.date:me.time,value:r,location:l,style:null!==(i=null==u?void 0:u.style)&&void 0!==i?i:null},err:null};case"plural":case"selectordinal":case"select":var f=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(pe.EXPECT_SELECT_ARGUMENT_OPTIONS,ze(f,ye({},f)));this.bumpSpace();var p=this.parseIdentifierIfPossible(),m=0;if("select"!==o&&"offset"===p.value){if(!this.bumpIf(":"))return this.error(pe.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,ze(this.clonePosition(),this.clonePosition()));var g;if(this.bumpSpace(),(g=this.tryParseDecimalInteger(pe.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,pe.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return g;this.bumpSpace(),p=this.parseIdentifierIfPossible(),m=g.val}var y,v=this.tryParsePluralOrSelectOptions(e,o,t,p);if(v.err)return v;if((y=this.tryParseArgumentClose(n)).err)return y;var b=ze(n,this.clonePosition());return"select"===o?{val:{type:me.select,value:r,options:st(v.val),location:b},err:null}:{val:{type:me.plural,value:r,options:st(v.val),offset:m,pluralType:"plural"===o?"cardinal":"ordinal",location:b},err:null};default:return this.error(pe.INVALID_ARGUMENT_TYPE,ze(s,a))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(pe.EXPECT_ARGUMENT_CLOSING_BRACE,ze(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var r=this.clonePosition();if(!this.bumpUntil("'"))return this.error(pe.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,ze(r,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var r=[];try{r=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],r=0,n=e.split(Le).filter((function(e){return e.length>0}));r<n.length;r++){var i=n[r].split("/");if(0===i.length)throw new Error("Invalid number skeleton");for(var s=i[0],o=i.slice(1),a=0,u=o;a<u.length;a++)if(0===u[a].length)throw new Error("Invalid number skeleton");t.push({stem:s,options:o})}return t}(e)}catch(e){return this.error(pe.INVALID_NUMBER_SKELETON,t)}return{val:{type:ge.number,tokens:r,location:t,parsedOptions:this.shouldParseSkeletons?Ve(r):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,r,n){for(var i,s=!1,o=[],a=new Set,u=n.value,c=n.location;;){if(0===u.length){var l=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var h=this.tryParseDecimalInteger(pe.EXPECT_PLURAL_ARGUMENT_SELECTOR,pe.INVALID_PLURAL_ARGUMENT_SELECTOR);if(h.err)return h;c=ze(l,this.clonePosition()),u=this.message.slice(l.offset,this.offset())}if(a.has(u))return this.error("select"===t?pe.DUPLICATE_SELECT_ARGUMENT_SELECTOR:pe.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,c);"other"===u&&(s=!0),this.bumpSpace();var d=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?pe.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:pe.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,ze(this.clonePosition(),this.clonePosition()));var f=this.parseMessage(e+1,t,r);if(f.err)return f;var p=this.tryParseArgumentClose(d);if(p.err)return p;o.push([u,{value:f.val,location:ze(d,this.clonePosition())}]),a.add(u),this.bumpSpace(),u=(i=this.parseIdentifierIfPossible()).value,c=i.location}return 0===o.length?this.error("select"===t?pe.EXPECT_SELECT_ARGUMENT_SELECTOR:pe.EXPECT_PLURAL_ARGUMENT_SELECTOR,ze(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!s?this.error(pe.MISSING_OTHER_CLAUSE,ze(this.clonePosition(),this.clonePosition())):{val:o,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var r=1,n=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(r=-1);for(var i=!1,s=0;!this.isEOF();){var o=this.char();if(!(o>=48&&o<=57))break;i=!0,s=10*s+(o-48),this.bump()}var a=ze(n,this.clonePosition());return i?et(s*=r)?{val:s,err:null}:this.error(t,a):this.error(e,a)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=ot(this.message,e);if(void 0===t)throw Error("Offset "+e+" is at invalid UTF-16 code unit boundary");return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(nt(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),r=this.message.indexOf(e,t);return r>=0?(this.bumpTo(r),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset "+e+" must be greater than or equal to the current offset "+this.offset());for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset "+e+" is at invalid UTF-16 code unit boundary");if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&pt(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),r=this.message.charCodeAt(t+(e>=65536?2:1));return null!=r?r:null},e}();function dt(e){return e>=97&&e<=122||e>=65&&e<=90}function ft(e){return 45===e||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function pt(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function mt(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function gt(e){e.forEach((function(e){if(delete e.location,$e(e)||Oe(e))for(var t in e.options)delete e.options[t].location,gt(e.options[t].value);else we(e)&&ke(e.style)||(Te(e)||Se(e))&&Re(e.style)?delete e.style.location:Ae(e)&&gt(e.children)}))}function yt(e,t){void 0===t&&(t={}),t=ye({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var r=new ht(e,t).parse();if(r.err){var n=SyntaxError(pe[r.err.kind]);throw n.location=r.err.location,n.originalMessage=r.err.message,n}return(null==t?void 0:t.captureLocation)||gt(r.val),r.val}function vt(e,t){var r=t&&t.cache?t.cache:Ot,n=t&&t.serializer?t.serializer:Tt;return(t&&t.strategy?t.strategy:wt)(e,{cache:r,serializer:n})}function bt(e,t,r,n){var i,s=null==(i=n)||"number"==typeof i||"boolean"==typeof i?n:r(n),o=t.get(s);return void 0===o&&(o=e.call(this,n),t.set(s,o)),o}function Et(e,t,r){var n=Array.prototype.slice.call(arguments,3),i=r(n),s=t.get(i);return void 0===s&&(s=e.apply(this,n),t.set(i,s)),s}function _t(e,t,r,n,i){return r.bind(t,e,n,i)}function wt(e,t){return _t(e,this,1===e.length?bt:Et,t.cache.create(),t.serializer)}var Tt=function(){return JSON.stringify(arguments)};function St(){this.cache=Object.create(null)}St.prototype.has=function(e){return e in this.cache},St.prototype.get=function(e){return this.cache[e]},St.prototype.set=function(e,t){this.cache[e]=t};var $t,Ot={create:function(){return new St}},Pt={variadic:function(e,t){return _t(e,this,Et,t.cache.create(),t.serializer)},monadic:function(e,t){return _t(e,this,bt,t.cache.create(),t.serializer)}};!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}($t||($t={}));var At,kt=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.code=r,i.originalMessage=n,i}return fe(t,e),t.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},t}(Error),Rt=function(e){function t(t,r,n,i){return e.call(this,'Invalid values for "'+t+'": "'+r+'". Options are "'+Object.keys(n).join('", "')+'"',$t.INVALID_VALUE,i)||this}return fe(t,e),t}(kt),It=function(e){function t(t,r,n){return e.call(this,'Value for "'+t+'" must be of type '+r,$t.INVALID_VALUE,n)||this}return fe(t,e),t}(kt),xt=function(e){function t(t,r){return e.call(this,'The intl string context variable "'+t+'" was not provided to the string "'+r+'"',$t.MISSING_VALUE,r)||this}return fe(t,e),t}(kt);function Ct(e){return"function"==typeof e}function Lt(e,t,r,n,i,s,o){if(1===e.length&&Ee(e[0]))return[{type:At.literal,value:e[0].value}];for(var a=[],u=0,c=e;u<c.length;u++){var l=c[u];if(Ee(l))a.push({type:At.literal,value:l.value});else if(Pe(l))"number"==typeof s&&a.push({type:At.literal,value:r.getNumberFormat(t).format(s)});else{var h=l.value;if(!i||!(h in i))throw new xt(h,o);var d=i[h];if(_e(l))d&&"string"!=typeof d&&"number"!=typeof d||(d="string"==typeof d||"number"==typeof d?String(d):""),a.push({type:"string"==typeof d?At.literal:At.object,value:d});else if(Te(l)){var f="string"==typeof l.style?n.date[l.style]:Re(l.style)?l.style.parsedOptions:void 0;a.push({type:At.literal,value:r.getDateTimeFormat(t,f).format(d)})}else if(Se(l)){f="string"==typeof l.style?n.time[l.style]:Re(l.style)?l.style.parsedOptions:void 0;a.push({type:At.literal,value:r.getDateTimeFormat(t,f).format(d)})}else if(we(l)){(f="string"==typeof l.style?n.number[l.style]:ke(l.style)?l.style.parsedOptions:void 0)&&f.scale&&(d*=f.scale||1),a.push({type:At.literal,value:r.getNumberFormat(t,f).format(d)})}else{if(Ae(l)){var p=l.children,m=l.value,g=i[m];if(!Ct(g))throw new It(m,"function",o);var y=g(Lt(p,t,r,n,i,s).map((function(e){return e.value})));Array.isArray(y)||(y=[y]),a.push.apply(a,y.map((function(e){return{type:"string"==typeof e?At.literal:At.object,value:e}})))}if($e(l)){if(!(v=l.options[d]||l.options.other))throw new Rt(l.value,d,Object.keys(l.options),o);a.push.apply(a,Lt(v.value,t,r,n,i))}else if(Oe(l)){var v;if(!(v=l.options["="+d])){if(!Intl.PluralRules)throw new kt('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',$t.MISSING_INTL_API,o);var b=r.getPluralRules(t,{type:l.pluralType}).select(d-(l.offset||0));v=l.options[b]||l.options.other}if(!v)throw new Rt(l.value,d,Object.keys(l.options),o);a.push.apply(a,Lt(v.value,t,r,n,i,d-(l.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var r=e[e.length-1];return r&&r.type===At.literal&&t.type===At.literal?r.value+=t.value:e.push(t),e}),[])}(a)}function jt(e,t){return t?Object.keys(e).reduce((function(r,n){var i,s;return r[n]=(i=e[n],(s=t[n])?ye(ye(ye({},i||{}),s||{}),Object.keys(i).reduce((function(e,t){return e[t]=ye(ye({},i[t]),s[t]||{}),e}),{})):i),r}),ye({},e)):e}function Nt(e){return{create:function(){return{has:function(t){return t in e},get:function(t){return e[t]},set:function(t,r){e[t]=r}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(At||(At={}));var Ut=function(){function e(t,r,n,i){var s,o=this;if(void 0===r&&(r=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=o.formatToParts(e);if(1===t.length)return t[0].value;var r=t.reduce((function(e,t){return e.length&&t.type===At.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return r.length<=1?r[0]||"":r},this.formatToParts=function(e){return Lt(o.ast,o.locales,o.formatters,o.formats,e,void 0,o.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(o.locales)[0]}},this.getAst=function(){return o.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==i?void 0:i.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=jt(e.formats,n),this.locales=r,this.formatters=i&&i.formatters||(void 0===(s=this.formatterCache)&&(s={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:vt((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.NumberFormat).bind.apply(e,be([void 0],t)))}),{cache:Nt(s.number),strategy:Pt.variadic}),getDateTimeFormat:vt((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.DateTimeFormat).bind.apply(e,be([void 0],t)))}),{cache:Nt(s.dateTime),strategy:Pt.variadic}),getPluralRules:vt((function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return new((e=Intl.PluralRules).bind.apply(e,be([void 0],t)))}),{cache:Nt(s.pluralRules),strategy:Pt.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=yt,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();const Dt={},Mt=(e,t,r)=>r?(t in Dt||(Dt[t]={}),e in Dt[t]||(Dt[t][e]=r),r):r,Gt=(e,t)=>{if(null==t)return;if(t in Dt&&e in Dt[t])return Dt[t][e];const r=ir(t);for(let n=0;n<r.length;n++){const i=Vt(r[n],e);if(i)return Mt(e,t,i)}};let Ft;const Bt=Q({});function Ht(e){return e in Ft}function Vt(e,t){return Ht(e)?function(e,t){if(t in e)return e[t];const r=t.split(".");let n=e;for(let e=0;e<r.length;e++)if("object"==typeof n){if(e>0){const t=r.slice(e,r.length).join(".");if(t in n){n=n[t];break}}n=n[r[e]]}else n=void 0;return n}(function(e){return Ft[e]||null}(e),t):null}function Xt(e,...t){delete Dt[e],Bt.update((r=>(r[e]=he.all([r[e]||{},...t]),r)))}ee([Bt],(([e])=>Object.keys(e))),Bt.subscribe((e=>Ft=e));const qt={};function zt(e){return qt[e]}function Jt(e){return ir(e).some((e=>{var t;return null===(t=zt(e))||void 0===t?void 0:t.size}))}const Kt={};function Wt(e){if(!Jt(e))return e in Kt?Kt[e]:void 0;const t=function(e){return ir(e).map((e=>{const t=zt(e);return[e,t?[...t]:[]]})).filter((([,e])=>e.length>0))}(e);return Kt[e]=Promise.all(t.map((([e,t])=>function(e,t){return Promise.all(t.map((t=>(function(e,t){qt[e].delete(t),0===qt[e].size&&delete qt[e]}(e,t),t().then((e=>e.default||e)))))).then((t=>Xt(e,...t)))}(e,t)))).then((()=>{if(Jt(e))return Wt(e);delete Kt[e]})),Kt[e]}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function Yt(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}const Zt={fallbackLocale:null,initialLocale:null,loadingDelay:200,formats:{number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},warnOnMissingMessages:!0,ignoreTag:!0};function Qt(){return Zt}const er=Q(!1);let tr;const rr=Q(null);function nr(e){return e.split("-").map(((e,t,r)=>r.slice(0,t+1).join("-"))).reverse()}function ir(e,t=Qt().fallbackLocale){const r=nr(e);return t?[...new Set([...r,...nr(t)])]:r}function sr(){return tr}rr.subscribe((e=>{tr=e,"undefined"!=typeof window&&null!==e&&document.documentElement.setAttribute("lang",e)}));const or=rr.set;rr.set=e=>{if(function(e){if(null==e)return;const t=ir(e);for(let e=0;e<t.length;e++){const r=t[e];if(Ht(r))return r}}(e)&&Jt(e)){const{loadingDelay:t}=Qt();let r;return"undefined"!=typeof window&&null!=sr()&&t?r=window.setTimeout((()=>er.set(!0)),t):er.set(!0),Wt(e).then((()=>{or(e)})).finally((()=>{clearTimeout(r),er.set(!1)}))}return or(e)},rr.update=e=>or(e(tr));const ar=e=>{const t=Object.create(null);return r=>{const n=JSON.stringify(r);return n in t?t[n]:t[n]=e(r)}},ur=(e,t)=>{const{formats:r}=Qt();if(e in r&&t in r[e])return r[e][t];throw new Error(`[svelte-i18n] Unknown "${t}" ${e} format.`)},cr=ar((e=>{var{locale:t,format:r}=e,n=Yt(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return r&&(n=ur("number",r)),new Intl.NumberFormat(t,n)})),lr=ar((e=>{var{locale:t,format:r}=e,n=Yt(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return r?n=ur("date",r):0===Object.keys(n).length&&(n=ur("date","short")),new Intl.DateTimeFormat(t,n)})),hr=ar((e=>{var{locale:t,format:r}=e,n=Yt(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return r?n=ur("time",r):0===Object.keys(n).length&&(n=ur("time","short")),new Intl.DateTimeFormat(t,n)})),dr=ar(((e,t=sr())=>new Ut(e,t,Qt().formats,{ignoreTag:Qt().ignoreTag}))),fr=(e,t={})=>{"object"==typeof e&&(e=(t=e).id);const{values:r,locale:n=sr(),default:i}=t;if(null==n)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");let s=Gt(e,n);if(s){if("string"!=typeof s)return console.warn(`[svelte-i18n] Message with id "${e}" must be of type "string", found: "${typeof s}". Gettin its value through the "$format" method is deprecated; use the "json" method instead.`),s}else Qt().warnOnMissingMessages&&console.warn(`[svelte-i18n] The message "${e}" was not found in "${ir(n).join('", "')}".${Jt(sr())?"\n\nNote: there are at least one loader still registered to this locale that wasn't executed.":""}`),s=i||e;if(!r)return s;let o=s;try{o=dr(s,n).format(r)}catch(t){console.warn(`[svelte-i18n] Message "${e}" has syntax error:`,t.message)}return o},pr=(e,t)=>((e={})=>{var{locale:t=sr()}=e,r=Yt(e,["locale"]);return hr(Object.assign({locale:t},r))})(t).format(e),mr=(e,t)=>((e={})=>{var{locale:t=sr()}=e,r=Yt(e,["locale"]);return lr(Object.assign({locale:t},r))})(t).format(e),gr=(e,t)=>((e={})=>{var{locale:t=sr()}=e,r=Yt(e,["locale"]);return cr(Object.assign({locale:t},r))})(t).format(e),yr=(e,t=sr())=>Gt(e,t),vr=ee([rr,Bt],(()=>fr));ee([rr],(()=>pr)),ee([rr],(()=>mr)),ee([rr],(()=>gr)),ee([rr,Bt],(()=>yr));var br={intro:{title:"소개"},temp:{title:"템플릿"}};Xt("en",{intro:{title:"Intro"},temp:{title:"Template"}}),Xt("ko",br),function(e){const{formats:t}=e,r=Yt(e,["formats"]),n=e.initialLocale||e.fallbackLocale;Object.assign(Zt,r,{initialLocale:n}),t&&("number"in t&&Object.assign(Zt.formats.number,t.number),"date"in t&&Object.assign(Zt.formats.date,t.date),"time"in t&&Object.assign(Zt.formats.time,t.time)),rr.set(n)}({fallbackLocale:"en",initialLocale:"undefined"==typeof window?null:window.navigator.language||window.navigator.languages[0]});const Er=Q(null);var _r={exports:{}};!function(e,t){var r="undefined"!=typeof self?self:te,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in e,o="ArrayBuffer"in e;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function h(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function m(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,r,n=f(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=p(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=c(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},d.prototype.delete=function(e){delete this.map[c(e)]},d.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},d.prototype.set=function(e,t){this.map[c(e)]=l(t)},d.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),h(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),h(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),h(e)},n&&(d.prototype[Symbol.iterator]=d.prototype.entries);var v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var r,n,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),v.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function E(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},y.call(b.prototype),y.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];_.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function T(e,r){return new Promise((function(n,s){var o=new b(e,r);if(o.signal&&o.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new _(i,r))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new t.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",u)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}T.polyfill=!0,e.fetch||(e.fetch=T,e.Headers=d,e.Request=b,e.Response=_),t.Headers=d,t.Request=b,t.Response=_,t.fetch=T,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(_r,_r.exports);var wr=re(_r.exports),Tr=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};const Sr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e);function $r(e,t,r,n){return Tr(this,void 0,void 0,(function*(){return new Promise(((i,s)=>{wr(t,((e,t,r)=>{const n={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e||(n.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},null==t?void 0:t.headers),n.body=JSON.stringify(r)),n})(e,r,n)).then((e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?i:e.json()})).then((e=>i(e))).catch((e=>((e,t)=>{if("function"!=typeof e.json)return t(e);e.json().then((r=>t({message:Sr(r),status:(null==e?void 0:e.status)||500})))})(e,s)))}))}))}function Or(e,t,r){return Tr(this,void 0,void 0,(function*(){return $r("POST",e,r,t)}))}const Pr="supabase.auth.token",Ar={name:"sb:token",lifetime:28800,domain:"",path:"/",sameSite:"lax"};function kr(e,t){var r,n,i;return function(e,t,r){const n=r||{},i=encodeURIComponent,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if("function"!=typeof i)throw new TypeError("option encode is invalid");if(!s.test(e))throw new TypeError("argument name is invalid");const o=i(t);if(o&&!s.test(o))throw new TypeError("argument val is invalid");let a=e+"="+o;if(null!=n.maxAge){const e=n.maxAge-0;if(isNaN(e)||!isFinite(e))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(e)}if(n.domain){if(!s.test(n.domain))throw new TypeError("option domain is invalid");a+="; Domain="+n.domain}if(n.path){if(!s.test(n.path))throw new TypeError("option path is invalid");a+="; Path="+n.path}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}(e.name,e.value,{maxAge:e.maxAge,expires:new Date(Date.now()+1e3*e.maxAge),httpOnly:!0,secure:t,path:null!==(r=e.path)&&void 0!==r?r:"/",domain:null!==(n=e.domain)&&void 0!==n?n:"",sameSite:null!==(i=e.sameSite)&&void 0!==i?i:"lax"})}function Rr(e,t,r){const n=r.map((t=>kr(t,function(e){if(!e||!e.headers||!e.headers.host)throw new Error('The "host" request header is not available');const t=e.headers.host.indexOf(":")>-1&&e.headers.host.split(":")[0]||e.headers.host;return!(["localhost","127.0.0.1"].indexOf(t)>-1||t.endsWith(".local"))}(e)))),i=t.getHeader("Set-Cookie");i&&(i instanceof Array?Array.prototype.push.apply(n,i):"string"==typeof i&&n.push(i)),t.setHeader("Set-Cookie",n)}function Ir(e,t,r){Rr(e,t,[r])}function xr(e){return Math.round(Date.now()/1e3)+e}const Cr=()=>"undefined"!=typeof window;function Lr(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&#]"+e+"(=([^&#]*)|&|#|$)").exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null}class jr{constructor(e){this.localStorage=e||globalThis.localStorage}clear(){return this.localStorage.clear()}key(e){return this.localStorage.key(e)}setItem(e,t){return this.localStorage.setItem(e,t)}getItem(e){return this.localStorage.getItem(e)}removeItem(e){return this.localStorage.removeItem(e)}}var Nr=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};class Ur{constructor({url:e="",headers:t={},cookieOptions:r}){this.url=e,this.headers=t,this.cookieOptions=Object.assign(Object.assign({},Ar),r)}signUpWithEmail(e,t,r={}){return Nr(this,void 0,void 0,(function*(){try{let n=Object.assign({},this.headers),i="";r.redirectTo&&(i="?redirect_to="+encodeURIComponent(r.redirectTo));const s=yield Or(`${this.url}/signup${i}`,{email:e,password:t},{headers:n});let o=Object.assign({},s);return o.expires_in&&(o.expires_at=xr(s.expires_in)),{data:o,error:null}}catch(e){return{data:null,error:e}}}))}signInWithEmail(e,t,r={}){return Nr(this,void 0,void 0,(function*(){try{let n=Object.assign({},this.headers),i="?grant_type=password";r.redirectTo&&(i+="&redirect_to="+encodeURIComponent(r.redirectTo));const s=yield Or(`${this.url}/token${i}`,{email:e,password:t},{headers:n});let o=Object.assign({},s);return o.expires_in&&(o.expires_at=xr(s.expires_in)),{data:o,error:null}}catch(e){return{data:null,error:e}}}))}signUpWithPhone(e,t){return Nr(this,void 0,void 0,(function*(){try{let r=Object.assign({},this.headers);const n=yield Or(`${this.url}/signup`,{phone:e,password:t},{headers:r});let i=Object.assign({},n);return i.expires_in&&(i.expires_at=xr(n.expires_in)),{data:i,error:null}}catch(e){return{data:null,error:e}}}))}signInWithPhone(e,t){return Nr(this,void 0,void 0,(function*(){try{let r=Object.assign({},this.headers),n="?grant_type=password";const i=yield Or(`${this.url}/token${n}`,{phone:e,password:t},{headers:r});let s=Object.assign({},i);return s.expires_in&&(s.expires_at=xr(i.expires_in)),{data:s,error:null}}catch(e){return{data:null,error:e}}}))}sendMagicLinkEmail(e,t={}){return Nr(this,void 0,void 0,(function*(){try{let r=Object.assign({},this.headers),n="";t.redirectTo&&(n+="?redirect_to="+encodeURIComponent(t.redirectTo));return{data:yield Or(`${this.url}/magiclink${n}`,{email:e},{headers:r}),error:null}}catch(e){return{data:null,error:e}}}))}sendMobileOTP(e){return Nr(this,void 0,void 0,(function*(){try{let t=Object.assign({},this.headers);return{data:yield Or(`${this.url}/otp`,{phone:e},{headers:t}),error:null}}catch(e){return{data:null,error:e}}}))}verifyMobileOTP(e,t,r={}){return Nr(this,void 0,void 0,(function*(){try{let n=Object.assign({},this.headers);return{data:yield Or(`${this.url}/verify`,{phone:e,token:t,type:"sms",redirect_to:r.redirectTo},{headers:n}),error:null}}catch(e){return{data:null,error:e}}}))}inviteUserByEmail(e,t={}){return Nr(this,void 0,void 0,(function*(){try{let r=Object.assign({},this.headers),n="";t.redirectTo&&(n+="?redirect_to="+encodeURIComponent(t.redirectTo));return{data:yield Or(`${this.url}/invite${n}`,{email:e},{headers:r}),error:null}}catch(e){return{data:null,error:e}}}))}resetPasswordForEmail(e,t={}){return Nr(this,void 0,void 0,(function*(){try{let r=Object.assign({},this.headers),n="";t.redirectTo&&(n+="?redirect_to="+encodeURIComponent(t.redirectTo));return{data:yield Or(`${this.url}/recover${n}`,{email:e},{headers:r}),error:null}}catch(e){return{data:null,error:e}}}))}_createRequestHeaders(e){const t=Object.assign({},this.headers);return t.Authorization=`Bearer ${e}`,t}signOut(e){return Nr(this,void 0,void 0,(function*(){try{return yield Or(`${this.url}/logout`,{},{headers:this._createRequestHeaders(e),noResolveJson:!0}),{error:null}}catch(e){return{error:e}}}))}getUrlForProvider(e,t){let r=[`provider=${encodeURIComponent(e)}`];return(null==t?void 0:t.redirectTo)&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),(null==t?void 0:t.scopes)&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),`${this.url}/authorize?${r.join("&")}`}getUser(e){return Nr(this,void 0,void 0,(function*(){try{const t=yield function(e,t){return Tr(this,void 0,void 0,(function*(){return $r("GET",e,t)}))}(`${this.url}/user`,{headers:this._createRequestHeaders(e)});return{user:t,data:t,error:null}}catch(e){return{user:null,data:null,error:e}}}))}updateUser(e,t){return Nr(this,void 0,void 0,(function*(){try{const r=yield function(e,t,r){return Tr(this,void 0,void 0,(function*(){return $r("PUT",e,r,t)}))}(`${this.url}/user`,t,{headers:this._createRequestHeaders(e)});return{user:r,data:r,error:null}}catch(e){return{user:null,data:null,error:e}}}))}deleteUser(e,t){return Nr(this,void 0,void 0,(function*(){try{const r=yield function(e,t,r){return Tr(this,void 0,void 0,(function*(){return $r("DELETE",e,r,t)}))}(`${this.url}/admin/users/${e}`,{},{headers:this._createRequestHeaders(t)});return{user:r,data:r,error:null}}catch(e){return{user:null,data:null,error:e}}}))}refreshAccessToken(e){return Nr(this,void 0,void 0,(function*(){try{const t=yield Or(`${this.url}/token?grant_type=refresh_token`,{refresh_token:e},{headers:this.headers});let r=Object.assign({},t);return r.expires_in&&(r.expires_at=xr(t.expires_in)),{data:r,error:null}}catch(e){return{data:null,error:e}}}))}setAuthCookie(e,t){"POST"!==e.method&&(t.setHeader("Allow","POST"),t.status(405).end("Method Not Allowed"));const{event:r,session:n}=e.body;if(!r)throw new Error("Auth event missing!");if("SIGNED_IN"===r){if(!n)throw new Error("Auth session missing!");Ir(e,t,{name:this.cookieOptions.name,value:n.access_token,domain:this.cookieOptions.domain,maxAge:this.cookieOptions.lifetime,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite})}"SIGNED_OUT"===r&&function(e,t,r){Ir(e,t,{name:r,value:"",maxAge:-1})}(e,t,this.cookieOptions.name),t.status(200).json({})}getUserByCookie(e){return Nr(this,void 0,void 0,(function*(){try{if(!e.cookies)throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");if(!e.cookies[this.cookieOptions.name])throw new Error("No cookie found!");const t=e.cookies[this.cookieOptions.name],{user:r,error:n}=yield this.getUser(t);if(n)throw n;return{user:r,data:r,error:null}}catch(e){return{user:null,data:null,error:e}}}))}generateLink(e,t,r={}){return Nr(this,void 0,void 0,(function*(){try{return{data:yield Or(`${this.url}/admin/generate_link`,{type:e,email:t,password:r.password,data:r.data,redirect_to:r.redirectTo},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}}var Dr=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};!function(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"undefined"!=typeof self&&(self.globalThis=self)}}();const Mr={url:"http://localhost:9999",autoRefreshToken:!0,persistSession:!0,localStorage:globalThis.localStorage,detectSessionInUrl:!0,headers:{}};class Gr extends class{constructor(e){this.stateChangeEmitters=new Map;const t=Object.assign(Object.assign({},Mr),e);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=t.autoRefreshToken,this.persistSession=t.persistSession,this.localStorage=new jr(t.localStorage),this.api=new Ur({url:t.url,headers:t.headers,cookieOptions:t.cookieOptions}),this._recoverSession(),this._recoverAndRefresh();try{t.detectSessionInUrl&&Cr()&&Lr("access_token")&&this.getSessionFromUrl({storeSession:!0})}catch(e){console.log("Error getting session from URL.")}}signUp({email:e,password:t,phone:r},n={}){return Dr(this,void 0,void 0,(function*(){try{this._removeSession();const{data:i,error:s}=r&&t?yield this.api.signUpWithPhone(r,t):yield this.api.signUpWithEmail(e,t,{redirectTo:n.redirectTo});if(s)throw s;if(!i)throw"An error occurred on sign up.";let o=null,a=null;return i.access_token&&(o=i,a=o.user,this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),i.id&&(a=i),{data:i,user:a,session:o,error:null}}catch(e){return{data:null,user:null,session:null,error:e}}}))}signIn({email:e,phone:t,password:r,refreshToken:n,provider:i},s={}){return Dr(this,void 0,void 0,(function*(){try{if(this._removeSession(),e&&!r){const{error:t}=yield this.api.sendMagicLinkEmail(e,{redirectTo:s.redirectTo});return{data:null,user:null,session:null,error:t}}if(e&&r)return this._handleEmailSignIn(e,r,{redirectTo:s.redirectTo});if(t&&!r){const{error:e}=yield this.api.sendMobileOTP(t);return{data:null,user:null,session:null,error:e}}if(t&&r)return this._handlePhoneSignIn(t,r);if(n){const{error:e}=yield this._callRefreshToken(n);if(e)throw e;return{data:this.currentSession,user:this.currentUser,session:this.currentSession,error:null}}if(i)return this._handleProviderSignIn(i,{redirectTo:s.redirectTo,scopes:s.scopes});throw new Error("You must provide either an email, phone number or a third-party provider.")}catch(e){return{data:null,user:null,session:null,error:e}}}))}verifyOTP({phone:e,token:t},r={}){return Dr(this,void 0,void 0,(function*(){try{this._removeSession();const{data:n,error:i}=yield this.api.verifyMobileOTP(e,t,r);if(i)throw i;if(!n)throw"An error occurred on token verification.";let s=null,o=null;return n.access_token&&(s=n,o=s.user,this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),n.id&&(o=n),{data:n,user:o,session:s,error:null}}catch(e){return{data:null,user:null,session:null,error:e}}}))}user(){return this.currentUser}session(){return this.currentSession}refreshSession(){var e;return Dr(this,void 0,void 0,(function*(){try{if(!(null===(e=this.currentSession)||void 0===e?void 0:e.access_token))throw new Error("Not logged in.");const{error:t}=yield this._callRefreshToken();if(t)throw t;return{data:this.currentSession,user:this.currentUser,error:null}}catch(e){return{data:null,user:null,error:e}}}))}update(e){var t;return Dr(this,void 0,void 0,(function*(){try{if(!(null===(t=this.currentSession)||void 0===t?void 0:t.access_token))throw new Error("Not logged in.");const{user:r,error:n}=yield this.api.updateUser(this.currentSession.access_token,e);if(n)throw n;if(!r)throw Error("Invalid user data.");const i=Object.assign(Object.assign({},this.currentSession),{user:r});return this._saveSession(i),this._notifyAllSubscribers("USER_UPDATED"),{data:r,user:r,error:null}}catch(e){return{data:null,user:null,error:e}}}))}setSession(e){return Dr(this,void 0,void 0,(function*(){try{if(!e)throw new Error("No current session.");const{data:t,error:r}=yield this.api.refreshAccessToken(e);return r?{session:null,error:r}:t?(this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"),{session:t,error:null}):{session:null,error:{name:"Invalid refresh_token",message:"JWT token provided is Invalid"}}}catch(e){return{error:e,session:null}}}))}setAuth(e){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:e,token_type:"bearer",user:null}),this.currentSession}getSessionFromUrl(e){return Dr(this,void 0,void 0,(function*(){try{if(!Cr())throw new Error("No browser detected.");const t=Lr("error_description");if(t)throw new Error(t);const r=Lr("provider_token"),n=Lr("access_token");if(!n)throw new Error("No access_token detected.");const i=Lr("expires_in");if(!i)throw new Error("No expires_in detected.");const s=Lr("refresh_token");if(!s)throw new Error("No refresh_token detected.");const o=Lr("token_type");if(!o)throw new Error("No token_type detected.");const a=Math.round(Date.now()/1e3)+parseInt(i),{user:u,error:c}=yield this.api.getUser(n);if(c)throw c;const l={provider_token:r,access_token:n,expires_in:parseInt(i),expires_at:a,refresh_token:s,token_type:o,user:u};return(null==e?void 0:e.storeSession)&&(this._saveSession(l),this._notifyAllSubscribers("SIGNED_IN"),"recovery"===Lr("type")&&this._notifyAllSubscribers("PASSWORD_RECOVERY")),window.location.hash="",{data:l,error:null}}catch(e){return{data:null,error:e}}}))}signOut(){var e;return Dr(this,void 0,void 0,(function*(){const t=null===(e=this.currentSession)||void 0===e?void 0:e.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),t){const{error:e}=yield this.api.signOut(t);if(e)return{error:e}}return{error:null}}))}onAuthStateChange(e){try{const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),r=this,n={id:t,callback:e,unsubscribe:()=>{r.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,n),{data:n,error:null}}catch(e){return{data:null,error:e}}}_handleEmailSignIn(e,t,r={}){var n,i;return Dr(this,void 0,void 0,(function*(){try{const{data:s,error:o}=yield this.api.signInWithEmail(e,t,{redirectTo:r.redirectTo});return o||!s?{data:null,user:null,session:null,error:o}:(((null===(n=null==s?void 0:s.user)||void 0===n?void 0:n.confirmed_at)||(null===(i=null==s?void 0:s.user)||void 0===i?void 0:i.email_confirmed_at))&&(this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),{data:s,user:s.user,session:s,error:null})}catch(e){return{data:null,user:null,session:null,error:e}}}))}_handlePhoneSignIn(e,t){var r;return Dr(this,void 0,void 0,(function*(){try{const{data:n,error:i}=yield this.api.signInWithPhone(e,t);return i||!n?{data:null,user:null,session:null,error:i}:((null===(r=null==n?void 0:n.user)||void 0===r?void 0:r.phone_confirmed_at)&&(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN")),{data:n,user:n.user,session:n,error:null})}catch(e){return{data:null,user:null,session:null,error:e}}}))}_handleProviderSignIn(e,t={}){const r=this.api.getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes});try{return Cr()&&(window.location.href=r),{provider:e,url:r,data:null,session:null,user:null,error:null}}catch(t){return r?{provider:e,url:r,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:t}}}_recoverSession(){var e;try{const t=Cr()&&(null===(e=this.localStorage)||void 0===e?void 0:e.getItem(Pr));if(!t||"string"!=typeof t)return null;const r=JSON.parse(t),{currentSession:n,expiresAt:i}=r;i>=Math.round(Date.now()/1e3)&&(null==n?void 0:n.user)&&(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN"))}catch(e){console.log("error",e)}}_recoverAndRefresh(){return Dr(this,void 0,void 0,(function*(){try{const e=Cr()&&(yield this.localStorage.getItem(Pr));if(!e)return null;const t=JSON.parse(e),{currentSession:r,expiresAt:n}=t;if(n<Math.round(Date.now()/1e3))if(this.autoRefreshToken&&r.refresh_token){const{error:e}=yield this._callRefreshToken(r.refresh_token);e&&(console.log(e.message),yield this._removeSession())}else this._removeSession();else r&&r.user?(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN")):(console.log("Current session is missing data."),this._removeSession())}catch(e){return console.error(e),null}}))}_callRefreshToken(e){var t;return void 0===e&&(e=null===(t=this.currentSession)||void 0===t?void 0:t.refresh_token),Dr(this,void 0,void 0,(function*(){try{if(!e)throw new Error("No current session.");const{data:t,error:r}=yield this.api.refreshAccessToken(e);if(r)throw r;if(!t)throw Error("Invalid session data.");return this._saveSession(t),this._notifyAllSubscribers("SIGNED_IN"),{data:t,error:null}}catch(e){return{data:null,error:e}}}))}_notifyAllSubscribers(e){this.stateChangeEmitters.forEach((t=>t.callback(e,this.currentSession)))}_saveSession(e){this.currentSession=e,this.currentUser=e.user;const t=e.expires_at;if(t){const e=t-Math.round(Date.now()/1e3),r=e>60?60:.5;this._startAutoRefreshToken(1e3*(e-r))}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}_persistSession(e){const t={currentSession:e,expiresAt:e.expires_at};Cr()&&this.localStorage.setItem(Pr,JSON.stringify(t))}_removeSession(){return Dr(this,void 0,void 0,(function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),Cr()&&(yield this.localStorage.removeItem(Pr))}))}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),e<=0||!this.autoRefreshToken||(this.refreshTokenTimer=setTimeout((()=>this._callRefreshToken()),e),"function"==typeof this.refreshTokenTimer.unref&&this.refreshTokenTimer.unref())}}{constructor(e){super(e)}}var Fr,Br=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};class Hr{constructor(e){Object.assign(this,e)}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){return void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json"),wr(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body)}).then((e=>Br(this,void 0,void 0,(function*(){var t,r,n;let i=null,s=null,o=null;if(e.ok){const i=null===(t=this.headers.Prefer)||void 0===t?void 0:t.split(",").includes("return=minimal");if("HEAD"!==this.method&&!i){const t=yield e.text();t&&(s="text/csv"===this.headers.Accept?t:JSON.parse(t))}const a=null===(r=this.headers.Prefer)||void 0===r?void 0:r.match(/count=(exact|planned|estimated)/),u=null===(n=e.headers.get("content-range"))||void 0===n?void 0:n.split("/");a&&u&&u.length>1&&(o=parseInt(u[1]))}else if(i=yield e.json(),i&&this.shouldThrowOnError)throw i;return{error:i,data:s,count:o,status:e.status,statusText:e.statusText,body:s}})))).then(e,t)}}class Vr extends Hr{select(e="*"){let t=!1;const r=e.split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",r),this}order(e,{ascending:t=!0,nullsFirst:r=!1,foreignTable:n}={}){const i=void 0===n?"order":`${n}.order`,s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${e}.${t?"asc":"desc"}.${r?"nullsfirst":"nullslast"}`),this}limit(e,{foreignTable:t}={}){const r=void 0===t?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:r}={}){const n=void 0===r?"offset":`${r}.offset`,i=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this.url.searchParams.set(i,""+(t-e+1)),this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){this.headers.Accept="application/vnd.pgrst.object+json";const e=new Vr(this);return e.then=(e,t)=>this.then((t=>{var r;return(null===(r=t.error)||void 0===r?void 0:r.details.includes("Results contain 0 rows"))?e({error:null,data:null,count:t.count,status:200,statusText:"OK",body:null}):e(t)}),t),e}csv(){return this.headers.Accept="text/csv",this}}class Xr extends Vr{constructor(){super(...arguments),this.cs=this.contains,this.cd=this.containedBy,this.sl=this.rangeLt,this.sr=this.rangeGt,this.nxl=this.rangeGte,this.nxr=this.rangeLte,this.adj=this.rangeAdjacent,this.ov=this.overlaps}not(e,t,r){return this.url.searchParams.append(`${e}`,`not.${t}.${r}`),this}or(e,{foreignTable:t}={}){const r=void 0===t?"or":`${t}.or`;return this.url.searchParams.append(r,`(${e})`),this}eq(e,t){return this.url.searchParams.append(`${e}`,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(`${e}`,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(`${e}`,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(`${e}`,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(`${e}`,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(`${e}`,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(`${e}`,`like.${t}`),this}ilike(e,t){return this.url.searchParams.append(`${e}`,`ilike.${t}`),this}is(e,t){return this.url.searchParams.append(`${e}`,`is.${t}`),this}in(e,t){const r=t.map((e=>"string"==typeof e&&new RegExp("[,()]").test(e)?`"${e}"`:`${e}`)).join(",");return this.url.searchParams.append(`${e}`,`in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(`${e}`,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cs.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(`${e}`,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(`${e}`,`cd.{${t.join(",")}}`):this.url.searchParams.append(`${e}`,`cd.${JSON.stringify(t)}`),this}rangeLt(e,t){return this.url.searchParams.append(`${e}`,`sl.${t}`),this}rangeGt(e,t){return this.url.searchParams.append(`${e}`,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(`${e}`,`nxl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(`${e}`,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(`${e}`,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(`${e}`,`ov.${t}`):this.url.searchParams.append(`${e}`,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n=null}={}){let i="";"plain"===n?i="pl":"phrase"===n?i="ph":"websearch"===n&&(i="w");const s=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`${i}fts${s}.${t}`),this}fts(e,t,{config:r}={}){const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`fts${n}.${t}`),this}plfts(e,t,{config:r}={}){const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`plfts${n}.${t}`),this}phfts(e,t,{config:r}={}){const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`phfts${n}.${t}`),this}wfts(e,t,{config:r}={}){const n=void 0===r?"":`(${r})`;return this.url.searchParams.append(`${e}`,`wfts${n}.${t}`),this}filter(e,t,r){return this.url.searchParams.append(`${e}`,`${t}.${r}`),this}match(e){return Object.keys(e).forEach((t=>{this.url.searchParams.append(`${t}`,`eq.${e[t]}`)})),this}}class qr extends Hr{constructor(e,{headers:t={},schema:r}={}){super({}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}select(e="*",{head:t=!1,count:r=null}={}){this.method="GET";let n=!1;const i=e.split("").map((e=>/\s/.test(e)&&!n?"":('"'===e&&(n=!n),e))).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),t&&(this.method="HEAD"),new Xr(this)}insert(e,{upsert:t=!1,onConflict:r,returning:n="representation",count:i=null}={}){this.method="POST";const s=[`return=${n}`];if(t&&s.push("resolution=merge-duplicates"),t&&void 0!==r&&this.url.searchParams.set("on_conflict",r),this.body=e,i&&s.push(`count=${i}`),this.headers.Prefer=s.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)];this.url.searchParams.set("columns",e.join(","))}}return new Xr(this)}upsert(e,{onConflict:t,returning:r="representation",count:n=null,ignoreDuplicates:i=!1}={}){this.method="POST";const s=[`resolution=${i?"ignore":"merge"}-duplicates`,`return=${r}`];return void 0!==t&&this.url.searchParams.set("on_conflict",t),this.body=e,n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Xr(this)}update(e,{returning:t="representation",count:r=null}={}){this.method="PATCH";const n=[`return=${t}`];return this.body=e,r&&n.push(`count=${r}`),this.headers.Prefer=n.join(","),new Xr(this)}delete({returning:e="representation",count:t=null}={}){this.method="DELETE";const r=[`return=${e}`];return t&&r.push(`count=${t}`),this.headers.Prefer=r.join(","),new Xr(this)}}class zr extends Hr{constructor(e,{headers:t={},schema:r}={}){super({}),this.url=new URL(e),this.headers=Object.assign({},t),this.schema=r}rpc(e,{count:t=null}={}){return this.method="POST",this.body=e,t&&(void 0!==this.headers.Prefer?this.headers.Prefer+=`,count=${t}`:this.headers.Prefer=`count=${t}`),new Xr(this)}}class Jr{constructor(e,{headers:t={},schema:r}={}){this.url=e,this.headers=t,this.schema=r}auth(e){return this.headers.Authorization=`Bearer ${e}`,this}from(e){const t=`${this.url}/${e}`;return new qr(t,{headers:this.headers,schema:this.schema})}rpc(e,t,{count:r=null}={}){const n=`${this.url}/rpc/${e}`;return new zr(n,{headers:this.headers,schema:this.schema}).rpc(t,{count:r})}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Fr||(Fr={}));const Kr=(e,t,r={})=>{let n={},i=void 0!==r.skipTypes?r.skipTypes:[];return Object.entries(t).map((([r,s])=>{n[r]=Wr(r,e,t,i)})),n},Wr=(e,t,r,n)=>{let i=t.find((t=>t.name==e));return!i||n.includes(i.type)?Zr(r[e]):Yr(i.type,r[e])},Yr=(e,t)=>{try{if(null===t)return null;if("_"===e.charAt(0)){let r=e.slice(1,e.length);return on(t,r)}switch(e){case Fr.abstime:return Zr(t);case Fr.bool:return Qr(t);case Fr.date:return Zr(t);case Fr.daterange:return en(t);case Fr.float4:case Fr.float8:return tn(t);case Fr.int2:case Fr.int4:return rn(t);case Fr.int4range:return nn(t);case Fr.int8:return rn(t);case Fr.int8range:return nn(t);case Fr.json:case Fr.jsonb:return sn(t);case Fr.money:case Fr.numeric:return tn(t);case Fr.oid:return rn(t);case Fr.reltime:case Fr.time:return Zr(t);case Fr.timestamp:return an(t);case Fr.timestamptz:case Fr.timetz:return Zr(t);case Fr.tsrange:case Fr.tstzrange:return en(t);default:return Zr(t)}}catch(r){return console.log(`Could not convert cell of type ${e} and value ${t}`),console.log(`This is the error: ${r}`),t}},Zr=e=>e,Qr=e=>{switch(e){case"t":return!0;case"f":return!1;default:return null}},en=e=>{let t=JSON.parse(e);return[new Date(t[0]),new Date(t[1])]},tn=e=>parseFloat(e),rn=e=>parseInt(e),nn=e=>{let t=JSON.parse(e);return[parseInt(t[0]),parseInt(t[1])]},sn=e=>JSON.parse(e),on=(e,t)=>{let r=e.slice(1,e.length-1);return(r.length>0?r.split(","):[]).map((e=>Yr(t,e)))},an=e=>e.replace(" ","T");var un,cn,ln,hn;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(un||(un={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(cn||(cn={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave"}(ln||(ln={})),function(e){e.websocket="websocket"}(hn||(hn={}));class dn{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}class fn{constructor(e,t,r={},n=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout))}trigger(e,t){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:t})}_cancelRefEvent(){this.refEvent&&this.channel.off(this.refEvent)}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter((t=>t.status===e)).forEach((e=>e.callback(t)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class pn{constructor(e,t={},r){this.topic=e,this.params=t,this.socket=r,this.bindings=[],this.state=cn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new fn(this,ln.join,this.params,this.timeout),this.rejoinTimer=new dn((()=>this.rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=cn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this.onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=cn.closed,this.socket.remove(this)})),this.onError((e=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=cn.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this.isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=cn.errored,this.rejoinTimer.scheduleTimeout())})),this.on(ln.reply,((e,t)=>{this.trigger(this.replyEventName(t),e)}))}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}onClose(e){this.on(ln.close,e)}onError(e){this.on(ln.error,(t=>e(t)))}on(e,t){this.bindings.push({event:e,callback:t})}off(e){this.bindings=this.bindings.filter((t=>t.event!==e))}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new fn(this,e,t,r);return this.canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}unsubscribe(e=this.timeout){this.state=cn.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(ln.close,"leave",this.joinRef())},r=new fn(this,ln.leave,{},e);return r.receive("ok",(()=>t())).receive("timeout",(()=>t())),r.send(),this.canPush()||r.trigger("ok",{}),r}onMessage(e,t,r){return t}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}sendJoin(e){this.state=cn.joining,this.joinPush.resend(e)}rejoin(e=this.timeout){this.isLeaving()||this.sendJoin(e)}trigger(e,t,r){let{close:n,error:i,leave:s,join:o}=ln;if(r&&[n,i,s,o].indexOf(e)>=0&&r!==this.joinRef())return;let a=this.onMessage(e,t,r);if(t&&!a)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter((r=>"*"===r.event?e===(null==t?void 0:t.type):r.event===e)).map((e=>e.callback(a,r)))}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===cn.closed}isErrored(){return this.state===cn.errored}isJoined(){return this.state===cn.joined}isJoining(){return this.state===cn.joining}isLeaving(){return this.state===cn.leaving}}var mn,gn=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")},yn=function(){if(this)return this;if("object"==typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return gn()}try{return __global__||gn()}finally{delete Object.prototype.__global__}}(),vn="1.0.34";if("object"==typeof globalThis)mn=globalThis;else try{mn=yn}catch(e){}finally{if(mn||"undefined"==typeof window||(mn=window),!mn)throw new Error("Could not determine global this")}var bn=mn.WebSocket||mn.MozWebSocket,En=vn;function _n(e,t){return t?new bn(e,t):new bn(e)}bn&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(_n,e,{get:function(){return bn[e]}})}));var wn={w3cwebsocket:bn?_n:null,version:En};class Tn{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"==typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),i=t.getUint8(2);let s=this.HEADER_LENGTH+2;const o=r.decode(e.slice(s,s+n));s+=n;const a=r.decode(e.slice(s,s+i));s+=i;return{ref:null,topic:o,event:a,payload:JSON.parse(r.decode(e.slice(s,e.byteLength)))}}}var Sn=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};const $n=()=>{};class On{constructor(e,t){this.channels=[],this.endPoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=wn.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=$n,this.conn=null,this.sendBuffer=[],this.serializer=new Tn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint=`${e}/${hn.websocket}`,(null==t?void 0:t.params)&&(this.params=t.params),(null==t?void 0:t.headers)&&(this.headers=t.headers),(null==t?void 0:t.timeout)&&(this.timeout=t.timeout),(null==t?void 0:t.logger)&&(this.logger=t.logger),(null==t?void 0:t.transport)&&(this.transport=t.transport),(null==t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs),(null==t?void 0:t.longpollerTimeout)&&(this.longpollerTimeout=t.longpollerTimeout),this.reconnectAfterMs=(null==t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null==t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null==t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new dn((()=>Sn(this,void 0,void 0,(function*(){yield this.disconnect(),this.connect()}))),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){return new Promise(((r,n)=>{try{this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t||""):this.conn.close(),this.conn=null),r({error:null,data:!0})}catch(e){r({error:e,data:!1})}}))}log(e,t,r){this.logger(e,t,r)}onOpen(e){this.stateChangeCallbacks.open.push(e)}onClose(e){this.stateChangeCallbacks.close.push(e)}onError(e){this.stateChangeCallbacks.error.push(e)}onMessage(e){this.stateChangeCallbacks.message.push(e)}connectionState(){switch(this.conn&&this.conn.readyState){case un.connecting:return"connecting";case un.open:return"open";case un.closing:return"closing";default:return"closed"}}isConnected(){return"open"===this.connectionState()}remove(e){this.channels=this.channels.filter((t=>t.joinRef()!==e.joinRef()))}channel(e,t={}){let r=new pn(e,t,this);return this.channels.push(r),r}push(e){let{topic:t,event:r,payload:n,ref:i}=e,s=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push",`${t} ${r} (${i})`,n),this.isConnected()?s():this.sendBuffer.push(s)}onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:r,payload:n,ref:i}=e;i&&i===this.pendingHeartbeatRef?this.pendingHeartbeatRef=null:r===(null==n?void 0:n.type)&&this._resetHeartbeat(),this.log("receive",`${n.status||""} ${t} ${r} ${i&&"("+i+")"||""}`,n),this.channels.filter((e=>e.isMember(t))).forEach((e=>e.trigger(r,n,i))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_onConnOpen(){this.log("transport",`connected to ${this.endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this._resetHeartbeat(),this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e.trigger(ln.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?";return`${e}${r}${new URLSearchParams(t)}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_resetHeartbeat(){this.pendingHeartbeatRef=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this._sendHeartbeat()),this.heartbeatIntervalMs)}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef})}}}class Pn{constructor(e,t,r){const n="*"===r?`realtime:${t}`:`realtime:${t}:${r}`;this.subscription=e.channel(n)}getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Kr(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Kr(e.columns,e.old_record)),t}on(e,t){return this.subscription.on(e,(e=>{let r={schema:e.schema,table:e.table,commit_timestamp:e.commit_timestamp,eventType:e.type,new:{},old:{}};r=Object.assign(Object.assign({},r),this.getPayloadRecords(e)),t(r)})),this}subscribe(e=(()=>{})){return this.subscription.onError((t=>e("SUBSCRIPTION_ERROR",t))),this.subscription.onClose((()=>e("CLOSED"))),this.subscription.subscribe().receive("ok",(()=>e("SUBSCRIBED"))).receive("error",(t=>e("SUBSCRIPTION_ERROR",t))).receive("timeout",(()=>e("RETRYING_AFTER_TIMEOUT"))),this.subscription}}class An extends qr{constructor(e,{headers:t={},schema:r,realtime:n,table:i}){super(e,{headers:t,schema:r}),this._subscription=new Pn(n,r,i),this._realtime=n}on(e,t){return this._realtime.isConnected()||this._realtime.connect(),this._subscription.on(e,t)}}var kn=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};const Rn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e);function In(e,t,r,n,i){return kn(this,void 0,void 0,(function*(){return new Promise(((s,o)=>{wr(t,((e,t,r,n)=>{const i={method:e,headers:(null==t?void 0:t.headers)||{}};return"GET"===e?i:(i.headers=Object.assign({"Content-Type":"application/json"},null==t?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))})(e,r,n,i)).then((e=>{if(!e.ok)throw e;return(null==r?void 0:r.noResolveJson)?s(e):e.json()})).then((e=>s(e))).catch((e=>((e,t)=>{if("function"!=typeof e.json)return t(e);e.json().then((r=>t({message:Rn(r),status:(null==e?void 0:e.status)||500})))})(e,o)))}))}))}function xn(e,t,r){return kn(this,void 0,void 0,(function*(){return In("GET",e,t,r)}))}function Cn(e,t,r,n){return kn(this,void 0,void 0,(function*(){return In("POST",e,r,n,t)}))}function Ln(e,t,r,n){return kn(this,void 0,void 0,(function*(){return In("DELETE",e,r,n,t)}))}var jn=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};var Nn=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};const Un={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Dn={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Mn{constructor(e,t={},r){this.url=e,this.headers=t,this.bucketId=r}uploadOrUpdate(e,t,r,n){return Nn(this,void 0,void 0,(function*(){try{let i;const s=Object.assign(Object.assign({},Dn),n),o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});"undefined"!=typeof Blob&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),i.append("",r)):"undefined"!=typeof FormData&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl)):(i=r,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType);const a=this._getFinalPath(t),u=yield wr(`${this.url}/object/${a}`,{method:e,body:i,headers:o});if(u.ok)return{data:{Key:a},error:null};return{data:null,error:yield u.json()}}catch(e){return{data:null,error:e}}}))}upload(e,t,r){return Nn(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,r)}))}update(e,t,r){return Nn(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,r)}))}move(e,t){return Nn(this,void 0,void 0,(function*(){try{return{data:yield Cn(`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}createSignedUrl(e,t){return Nn(this,void 0,void 0,(function*(){try{const r=this._getFinalPath(e);let n=yield Cn(`${this.url}/object/sign/${r}`,{expiresIn:t},{headers:this.headers});const i=`${this.url}${n.signedURL}`;return n={signedURL:i},{data:n,error:null,signedURL:i}}catch(e){return{data:null,error:e,signedURL:null}}}))}download(e){return Nn(this,void 0,void 0,(function*(){try{const t=this._getFinalPath(e),r=yield xn(`${this.url}/object/${t}`,{headers:this.headers,noResolveJson:!0});return{data:yield r.blob(),error:null}}catch(e){return{data:null,error:e}}}))}getPublicUrl(e){try{const t=this._getFinalPath(e),r=`${this.url}/object/public/${t}`;return{data:{publicURL:r},error:null,publicURL:r}}catch(e){return{data:null,error:e,publicURL:null}}}remove(e){return Nn(this,void 0,void 0,(function*(){try{return{data:yield Ln(`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}list(e,t,r){return Nn(this,void 0,void 0,(function*(){try{const n=Object.assign(Object.assign(Object.assign({},Un),t),{prefix:e||""});return{data:yield Cn(`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(e){return{data:null,error:e}}}))}_getFinalPath(e){return`${this.bucketId}/${e}`}}class Gn extends class{constructor(e,t={}){this.url=e,this.headers=t}listBuckets(){return jn(this,void 0,void 0,(function*(){try{return{data:yield xn(`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}getBucket(e){return jn(this,void 0,void 0,(function*(){try{return{data:yield xn(`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}createBucket(e,t={public:!1}){return jn(this,void 0,void 0,(function*(){try{return{data:(yield Cn(`${this.url}/bucket`,{id:e,name:e,public:t.public},{headers:this.headers})).name,error:null}}catch(e){return{data:null,error:e}}}))}updateBucket(e,t){return jn(this,void 0,void 0,(function*(){try{return{data:yield function(e,t,r,n){return kn(this,void 0,void 0,(function*(){return In("PUT",e,r,n,t)}))}(`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}emptyBucket(e){return jn(this,void 0,void 0,(function*(){try{return{data:yield Cn(`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}deleteBucket(e){return jn(this,void 0,void 0,(function*(){try{return{data:yield Ln(`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}}))}}{constructor(e,t={}){super(e,t)}from(e){return new Mn(this.url,this.headers,e)}}var Fn=function(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))};const Bn={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,localStorage:globalThis.localStorage,headers:{}};class Hn{constructor(e,t,r){if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const n=Object.assign(Object.assign({},Bn),r);this.restUrl=`${e}/rest/v1`,this.realtimeUrl=`${e}/realtime/v1`.replace("http","ws"),this.authUrl=`${e}/auth/v1`,this.storageUrl=`${e}/storage/v1`,this.schema=n.schema,this.auth=this._initSupabaseAuthClient(n),this.realtime=this._initRealtimeClient(n.realtime)}get storage(){return new Gn(this.storageUrl,this._getAuthHeaders())}from(e){const t=`${this.restUrl}/${e}`;return new An(t,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e})}rpc(e,t){return this._initPostgRESTClient().rpc(e,t)}removeSubscription(e){return new Promise((t=>Fn(this,void 0,void 0,(function*(){try{yield this._closeSubscription(e);const r=this.getSubscriptions().length;if(!r){const{error:e}=yield this.realtime.disconnect();if(e)return t({error:e})}return t({error:null,data:{openSubscriptions:r}})}catch(e){return t({error:e})}}))))}_closeSubscription(e){return Fn(this,void 0,void 0,(function*(){e.isClosed()||(yield this._closeChannel(e))}))}getSubscriptions(){return this.realtime.channels}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:n}){return new Gr({url:this.authUrl,headers:{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`},autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,localStorage:n})}_initRealtimeClient(e){return new On(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},null==e?void 0:e.params),{apikey:this.supabaseKey})}))}_initPostgRESTClient(){return new Jr(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema})}_getAuthHeaders(){var e,t;const r={},n=null!==(t=null===(e=this.auth.session())||void 0===e?void 0:e.access_token)&&void 0!==t?t:this.supabaseKey;return r.apikey=this.supabaseKey,r.Authorization=`Bearer ${n}`,r}_closeChannel(e){return new Promise(((t,r)=>{e.unsubscribe().receive("ok",(()=>(this.realtime.remove(e),t(!0)))).receive("error",(e=>r(e)))}))}}const Vn=new Hn("https://cozkkbhymspgkqaxkdhk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYyNzA1MzA5NywiZXhwIjoxOTQyNjI5MDk3fQ.rTcCcyATKsuDhvK-9yD19o7Wjcbn6ZQFK3-ggHCuB4I",Xn);var Xn;function qn(e){let r,n,i;const s=[e[2]];var o=e[0];function a(e){let r={};for(let e=0;e<s.length;e+=1)r=t(r,s[e]);return{props:r}}return o&&(r=new o(a()),r.$on("routeEvent",e[7])),{c(){r&&q(r.$$.fragment),n=g()},m(e,t){r&&z(r,e,t),h(e,n,t),i=!0},p(e,t){const i=4&t?V(s,[X(e[2])]):{};if(o!==(o=e[0])){if(r){G();const e=r;H(e.$$.fragment,1,0,(()=>{J(e,1)})),F()}o?(r=new o(a()),r.$on("routeEvent",e[7]),q(r.$$.fragment),B(r.$$.fragment,1),z(r,n.parentNode,n)):r=null}else o&&r.$set(i)},i(e){i||(r&&B(r.$$.fragment,e),i=!0)},o(e){r&&H(r.$$.fragment,e),i=!1},d(e){e&&d(n),r&&J(r,e)}}}function zn(e){let r,n,i;const s=[{params:e[1]},e[2]];var o=e[0];function a(e){let r={};for(let e=0;e<s.length;e+=1)r=t(r,s[e]);return{props:r}}return o&&(r=new o(a()),r.$on("routeEvent",e[6])),{c(){r&&q(r.$$.fragment),n=g()},m(e,t){r&&z(r,e,t),h(e,n,t),i=!0},p(e,t){const i=6&t?V(s,[2&t&&{params:e[1]},4&t&&X(e[2])]):{};if(o!==(o=e[0])){if(r){G();const e=r;H(e.$$.fragment,1,0,(()=>{J(e,1)})),F()}o?(r=new o(a()),r.$on("routeEvent",e[6]),q(r.$$.fragment),B(r.$$.fragment,1),z(r,n.parentNode,n)):r=null}else o&&r.$set(i)},i(e){i||(r&&B(r.$$.fragment,e),i=!0)},o(e){r&&H(r.$$.fragment,e),i=!1},d(e){e&&d(n),r&&J(r,e)}}}function Jn(e){let t,r,n,i;const s=[zn,qn],o=[];function a(e,t){return e[1]?0:1}return t=a(e),r=o[t]=s[t](e),{c(){r.c(),n=g()},m(e,r){o[t].m(e,r),h(e,n,r),i=!0},p(e,[i]){let u=t;t=a(e),t===u?o[t].p(e,i):(G(),H(o[u],1,1,(()=>{o[u]=null})),F(),r=o[t],r?r.p(e,i):(r=o[t]=s[t](e),r.c()),B(r,1),r.m(n.parentNode,n))},i(e){i||(B(r),i=!0)},o(e){H(r),i=!1},d(e){o[t].d(e),e&&d(n)}}}function Kn(){const e=window.location.href.indexOf("#/");let t=e>-1?window.location.href.substr(e+1):"/";const r=t.indexOf("?");let n="";return r>-1&&(n=t.substr(r+1),t=t.substr(0,r)),{location:t,querystring:n}}const Wn=Z(null,(function(e){e(Kn());const t=()=>{e(Kn())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}}));ee(Wn,(e=>e.location)),ee(Wn,(e=>e.querystring));const Yn=Q(void 0);function Zn(e,t,r){let{routes:n={}}=t,{prefix:i=""}=t,{restoreScrollState:s=!1}=t;class o{constructor(e,t){if(!t||"function"!=typeof t&&("object"!=typeof t||!0!==t._sveltesparouter))throw Error("Invalid component object");if(!e||"string"==typeof e&&(e.length<1||"/"!=e.charAt(0)&&"*"!=e.charAt(0))||"object"==typeof e&&!(e instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:r,keys:n}=function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,i,s,o=[],a="",u=e.split("/");for(u[0]||u.shift();i=u.shift();)"*"===(r=i[0])?(o.push("wild"),a+="/(.*)"):":"===r?(n=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~n?n:~s?s:i.length)),a+=~n&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~n?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}(e);this.path=e,"object"==typeof t&&!0===t._sveltesparouter?(this.component=t.component,this.conditions=t.conditions||[],this.userData=t.userData,this.props=t.props||{}):(this.component=()=>Promise.resolve(t),this.conditions=[],this.props={}),this._pattern=r,this._keys=n}match(e){if(i)if("string"==typeof i){if(!e.startsWith(i))return null;e=e.substr(i.length)||"/"}else if(i instanceof RegExp){const t=e.match(i);if(!t||!t[0])return null;e=e.substr(t[0].length)||"/"}const t=this._pattern.exec(e);if(null===t)return null;if(!1===this._keys)return t;const r={};let n=0;for(;n<this._keys.length;){try{r[this._keys[n]]=decodeURIComponent(t[n+1]||"")||null}catch(e){r[this._keys[n]]=null}n++}return r}async checkConditions(e){for(let t=0;t<this.conditions.length;t++)if(!await this.conditions[t](e))return!1;return!0}}const a=[];n instanceof Map?n.forEach(((e,t)=>{a.push(new o(t,e))})):Object.keys(n).forEach((e=>{a.push(new o(e,n[e]))}));let u=null,c=null,l={};const h=S();async function d(e,t){await(x(),R),h(e,t)}let f=null,p=null;var m;s&&(p=e=>{f=e.state&&e.state.__svelte_spa_router_scrollY?e.state:null},window.addEventListener("popstate",p),m=()=>{f?window.scrollTo(f.__svelte_spa_router_scrollX,f.__svelte_spa_router_scrollY):window.scrollTo(0,0)},T().$$.after_update.push(m));let g=null,y=null;const v=Wn.subscribe((async e=>{g=e;let t=0;for(;t<a.length;){const n=a[t].match(e.location);if(!n){t++;continue}const i={route:a[t].path,location:e.location,querystring:e.querystring,userData:a[t].userData,params:n&&"object"==typeof n&&Object.keys(n).length?n:null};if(!await a[t].checkConditions(i))return r(0,u=null),y=null,void d("conditionsFailed",i);d("routeLoading",Object.assign({},i));const s=a[t].component;if(y!=s){s.loading?(r(0,u=s.loading),y=s,r(1,c=s.loadingParams),r(2,l={}),d("routeLoaded",Object.assign({},i,{component:u,name:u.name,params:c}))):(r(0,u=null),y=null);const t=await s();if(e!=g)return;r(0,u=t&&t.default||t),y=s}return n&&"object"==typeof n&&Object.keys(n).length?r(1,c=n):r(1,c=null),r(2,l=a[t].props),void d("routeLoaded",Object.assign({},i,{component:u,name:u.name,params:c})).then((()=>{Yn.set(c)}))}r(0,u=null),y=null,Yn.set(void 0)}));return function(e){T().$$.on_destroy.push(e)}((()=>{v(),p&&window.removeEventListener("popstate",p)})),e.$$set=e=>{"routes"in e&&r(3,n=e.routes),"prefix"in e&&r(4,i=e.prefix),"restoreScrollState"in e&&r(5,s=e.restoreScrollState)},e.$$.update=()=>{32&e.$$.dirty&&(history.scrollRestoration=s?"manual":"auto")},[u,c,l,n,i,s,function(t){$.call(this,e,t)},function(t){$.call(this,e,t)}]}class Qn extends W{constructor(e){super(),K(this,e,Zn,Jn,o,{routes:3,prefix:4,restoreScrollState:5})}}function ei(e){let t,r,n,i;const s=e[2].default,o=function(e,t,r,n){if(e){const i=c(e,t,r,n);return e[0](i)}}(s,e,e[1],null);return{c(){t=f("button"),o&&o.c(),b(t,"class","svelte-18aj96u")},m(s,a){h(s,t,a),o&&o.m(t,null),r=!0,n||(i=y(t,"click",v(e[0])),n=!0)},p(e,[t]){o&&o.p&&(!r||2&t)&&function(e,t,r,n,i,s){if(i){const o=c(t,r,n,s);e.p(o,i)}}(o,s,e,e[1],r?function(e,t,r,n){if(e[2]&&n){const i=e[2](n(r));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],r=Math.max(t.dirty.length,i.length);for(let n=0;n<r;n+=1)e[n]=t.dirty[n]|i[n];return e}return t.dirty|i}return t.dirty}(s,e[1],t,null):function(e){if(e.ctx.length>32){const t=[],r=e.ctx.length/32;for(let e=0;e<r;e++)t[e]=-1;return t}return-1}(e[1]),null)},i(e){r||(B(o,e),r=!0)},o(e){H(o,e),r=!1},d(e){e&&d(t),o&&o.d(e),n=!1,i()}}}function ti(e,t,r){let{$$slots:n={},$$scope:i}=t;const s=S();return e.$$set=e=>{"$$scope"in e&&r(1,i=e.$$scope)},[function(){s("click")},i,n]}class ri extends W{constructor(e){super(),K(this,e,ti,ei,o,{})}}function ni(e){let t;return{c(){t=p("Sign Up")},m(e,r){h(e,t,r)},d(e){e&&d(t)}}}function ii(e){let t,r,n,s,o,a,u,c,p,g,_,w,T,S,$,O,P,A,k;return O=new ri({props:{$$slots:{default:[ni]},$$scope:{ctx:e}}}),O.$on("click",e[4]),{c(){t=f("form"),r=f("div"),n=f("h1"),n.textContent="Supabase + Svelte",s=m(),o=f("p"),o.textContent="Sign in via magic link with your email below",a=m(),u=f("div"),c=f("input"),p=m(),g=f("input"),_=m(),w=f("div"),T=f("input"),$=m(),q(O.$$.fragment),b(n,"class","header"),b(o,"class","description"),b(c,"class","inputField"),b(c,"type","email"),b(c,"placeholder","Your email"),c.required=!0,b(g,"class","inputField"),b(g,"type","password"),b(g,"placeholder","Your password"),g.required=!0,b(T,"type","submit"),b(T,"class","button block"),T.value=S=e[0]?"Loading":"Sign In",T.disabled=e[0],b(r,"class","col-6 form-widget"),b(t,"class","row flex flex-center")},m(i,d){h(i,t,d),l(t,r),l(r,n),l(r,s),l(r,o),l(r,a),l(r,u),l(u,c),E(c,e[1]),l(u,p),l(u,g),E(g,e[2]),l(r,_),l(r,w),l(w,T),l(w,$),z(O,w,null),P=!0,A||(k=[y(c,"input",e[5]),y(g,"input",e[6]),y(t,"submit",v(e[3]))],A=!0)},p(e,[t]){2&t&&c.value!==e[1]&&E(c,e[1]),4&t&&g.value!==e[2]&&E(g,e[2]),(!P||1&t&&S!==(S=e[0]?"Loading":"Sign In"))&&(T.value=S),(!P||1&t)&&(T.disabled=e[0]);const r={};256&t&&(r.$$scope={dirty:t,ctx:e}),O.$set(r)},i(e){P||(B(O.$$.fragment,e),P=!0)},o(e){H(O.$$.fragment,e),P=!1},d(e){e&&d(t),J(O),A=!1,i(k)}}}function si(e,t,r){let n,i,s=!1;const o=e=>ve(void 0,void 0,void 0,(function*(){try{r(0,s=!0);const t=yield e();if(t)throw t}catch(e){alert(e.error_description||e.message)}finally{r(0,s=!1)}}));return[s,n,i,()=>ve(void 0,void 0,void 0,(function*(){yield o((()=>ve(void 0,void 0,void 0,(function*(){const{error:e}=yield Vn.auth.signIn({email:n,password:i});return e}))))})),()=>ve(void 0,void 0,void 0,(function*(){yield o((()=>ve(void 0,void 0,void 0,(function*(){const{error:e}=yield Vn.auth.signUp({email:n,password:i});return e}))))})),function(){n=this.value,r(1,n)},function(){i=this.value,r(2,i)}]}class oi extends W{constructor(e){super(),K(this,e,si,ii,o,{})}}function ai(t){let r;return{c(){r=f("p")},m(e,n){h(e,r,n),r.innerHTML=t[0]},p:e,i:e,o:e,d(e){e&&d(r)}}}function ui(e){return["This is <strong>Temp!</strong>"]}class ci extends W{constructor(e){super(),K(this,e,ui,ai,o,{})}}function li(t){let r,n,i,s,o;return s=new Qn({props:{routes:t[0]}}),{c(){r=f("main"),n=f("nav"),n.innerHTML='<a href="/">SignIn</a> |\n    <a href="/#/temp">Temp</a>',i=m(),q(s.$$.fragment),b(r,"class","svelte-1n6djop")},m(e,t){h(e,r,t),l(r,n),l(r,i),z(s,r,null),o=!0},p:e,i(e){o||(B(s.$$.fragment,e),o=!0)},o(e){H(s.$$.fragment,e),o=!1},d(e){e&&d(r),J(s)}}}function hi(e){return[{"/":oi,"/temp":ci,"*":oi}]}class di extends W{constructor(e){super(),K(this,e,hi,li,o,{})}}function fi(e){let t;return{c(){t=p("Sign Out")},m(e,r){h(e,t,r)},d(e){e&&d(t)}}}function pi(e){let t;return{c(){t=p("Toggle Theme")},m(e,r){h(e,t,r)},d(e){e&&d(t)}}}function mi(e){let t,r,n,i,s,o,a,u=e[0]("intro.title")+"";return i=new ri({props:{$$slots:{default:[fi]},$$scope:{ctx:e}}}),i.$on("click",e[1]),o=new ri({props:{$$slots:{default:[pi]},$$scope:{ctx:e}}}),o.$on("click",gi),{c(){t=f("p"),r=p(u),n=m(),q(i.$$.fragment),s=m(),q(o.$$.fragment)},m(e,u){h(e,t,u),l(t,r),h(e,n,u),z(i,e,u),h(e,s,u),z(o,e,u),a=!0},p(e,[t]){(!a||1&t)&&u!==(u=e[0]("intro.title")+"")&&function(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}(r,u);const n={};4&t&&(n.$$scope={dirty:t,ctx:e}),i.$set(n);const s={};4&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s)},i(e){a||(B(i.$$.fragment,e),B(o.$$.fragment,e),a=!0)},o(e){H(i.$$.fragment,e),H(o.$$.fragment,e),a=!1},d(e){e&&d(t),e&&d(n),J(i,e),e&&d(s),J(o,e)}}}function gi(){window.document.body.classList.toggle("dark-mode")}function yi(e,t,r){let n;u(e,vr,(e=>r(0,n=e)));return[n,()=>Vn.auth.signOut()]}class vi extends W{constructor(e){super(),K(this,e,yi,mi,o,{})}}function bi(t){let r,n,o,a,u,c,g,_,w,T,S,$,O,P,A,k,R,I,x,C,L,j,N,U,D,M;return{c(){r=f("form"),n=f("div"),o=f("label"),o.textContent="Email",a=m(),u=f("input"),g=m(),_=f("div"),w=f("label"),w.textContent="Name",T=m(),S=f("input"),$=m(),O=f("div"),P=f("label"),P.textContent="Website",A=m(),k=f("input"),R=m(),I=f("div"),x=f("input"),L=m(),j=f("div"),N=f("button"),U=p("Sign Out"),b(o,"for","email"),b(u,"id","email"),b(u,"type","text"),u.value=c=t[3]?.email,u.disabled=!0,b(w,"for","username"),b(S,"id","username"),b(S,"type","text"),b(P,"for","website"),b(k,"id","website"),b(k,"type","website"),b(x,"type","submit"),b(x,"class","button block primary"),x.value=C=t[0]?"Loading ...":"Update",x.disabled=t[0],b(N,"class","button block"),N.disabled=t[0],b(r,"class","form-widget")},m(i,c){var d;h(i,r,c),l(r,n),l(n,o),l(n,a),l(n,u),l(r,g),l(r,_),l(_,w),l(_,T),l(_,S),E(S,t[1]),l(r,$),l(r,O),l(O,P),l(O,A),l(O,k),E(k,t[2]),l(r,R),l(r,I),l(I,x),l(r,L),l(r,j),l(j,N),l(N,U),D||(M=[y(S,"input",t[7]),y(k,"input",t[8]),y(N,"click",t[6]),(d=t[4].call(null,r),d&&s(d.destroy)?d.destroy:e),y(r,"submit",v(t[5]))],D=!0)},p(e,[t]){8&t&&c!==(c=e[3]?.email)&&u.value!==c&&(u.value=c),2&t&&S.value!==e[1]&&E(S,e[1]),4&t&&E(k,e[2]),1&t&&C!==(C=e[0]?"Loading ...":"Update")&&(x.value=C),1&t&&(x.disabled=e[0]),1&t&&(N.disabled=e[0])},i:e,o:e,d(e){e&&d(r),D=!1,i(M)}}}function Ei(e,t,r){let n;u(e,Er,(e=>r(3,n=e)));let i,s,o,a=!0;return[a,i,s,n,function(e){return ve(this,void 0,void 0,(function*(){try{r(0,a=!0);const e=Vn.auth.user();let{data:t,error:n,status:u}=yield Vn.from("profiles").select("username, website, avatar_url").eq("id",null==e?void 0:e.id).single();if(n&&406!==u)throw n;return t&&(r(1,i=t.username),r(2,s=t.website),o=t.avatar_url),{destroy(){}}}catch(e){alert(e.message)}finally{r(0,a=!1)}}))},function(){return ve(this,void 0,void 0,(function*(){try{r(0,a=!0);const e=Vn.auth.user(),t={id:null==e?void 0:e.id,username:i,website:s,avatar_url:o,updated_at:new Date};let{error:n}=yield Vn.from("profiles").upsert(t,{returning:"minimal"});if(n)throw n}catch(e){alert(e.message)}finally{r(0,a=!1)}}))},function(){return ve(this,void 0,void 0,(function*(){try{r(0,a=!0);let{error:e}=yield Vn.auth.signOut();if(e)throw e}catch(e){alert(e.message)}finally{r(0,a=!1)}}))},function(){i=this.value,r(1,i)},function(){s=this.value,r(2,s)}]}class _i extends W{constructor(e){super(),K(this,e,Ei,bi,o,{})}}function wi(t){let r,n,i,s,o;return s=new Qn({props:{routes:t[0]}}),{c(){r=f("main"),n=f("nav"),n.innerHTML='<a href="/">Intro</a> |\n    <a href="/#/profile">Profile</a>',i=m(),q(s.$$.fragment),b(r,"class","svelte-19rp56p")},m(e,t){h(e,r,t),l(r,n),l(r,i),z(s,r,null),o=!0},p:e,i(e){o||(B(s.$$.fragment,e),o=!0)},o(e){H(s.$$.fragment,e),o=!1},d(e){e&&d(r),J(s)}}}function Ti(e){return[{"/":vi,"*":_i}]}class Si extends W{constructor(e){super(),K(this,e,Ti,wi,o,{})}}function $i(e){let t,r;return t=new di({}),{c(){q(t.$$.fragment)},m(e,n){z(t,e,n),r=!0},i(e){r||(B(t.$$.fragment,e),r=!0)},o(e){H(t.$$.fragment,e),r=!1},d(e){J(t,e)}}}function Oi(e){let t,r;return t=new Si({}),{c(){q(t.$$.fragment)},m(e,n){z(t,e,n),r=!0},i(e){r||(B(t.$$.fragment,e),r=!0)},o(e){H(t.$$.fragment,e),r=!1},d(e){J(t,e)}}}function Pi(e){let t,r,n,i;const s=[Oi,$i],o=[];function a(e,t){return e[0]?0:1}return r=a(e),n=o[r]=s[r](e),{c(){t=f("main"),n.c()},m(e,n){h(e,t,n),o[r].m(t,null),i=!0},p(e,[i]){let u=r;r=a(e),r!==u&&(G(),H(o[u],1,1,(()=>{o[u]=null})),F(),n=o[r],n||(n=o[r]=s[r](e),n.c()),B(n,1),n.m(t,null))},i(e){i||(B(n),i=!0)},o(e){H(n),i=!1},d(e){e&&d(t),o[r].d()}}}function Ai(e,t,r){let n;return u(e,Er,(e=>r(0,n=e))),Vn.auth.onAuthStateChange(((e,t)=>{Er.set(t?.user)})),[n]}return new class extends W{constructor(e){super(),K(this,e,Ai,Pi,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
